import{w as p,r as M}from"./index.qOeORYfI.js";import{O as S}from"./scheduler.rZW7Z6w_.js";const i={};function h(e){return e==="local"?localStorage:sessionStorage}function l(e,s,t){const r=t?.serializer??JSON,m=t?.storage??"local";function u(a,c){h(m).setItem(a,r.stringify(c))}if(!i[e]){const a=p(s,o=>{const n=h(m).getItem(e);n&&o(r.parse(n));{const g=d=>{d.key===e&&o(d.newValue?r.parse(d.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:c,set:f}=a;i[e]={set(o){u(e,o),f(o)},update(o){const n=o(S(a));u(e,n),f(n)},subscribe:c}}return i[e]}const L=l("modeOsPrefers",!1),P=l("modeUserPrefers",void 0),E=l("modeCurrent",!1);function b(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return L.set(e),e}function O(e){P.set(e)}function I(e){const s=document.documentElement.classList,t="dark";e===!0?s.remove(t):s.add(t),E.set(e)}function R(){const e=document.documentElement.classList,s=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),r=window.matchMedia("(prefers-color-scheme: dark)").matches;s||t&&r?e.add("dark"):e.remove("dark")}const w="(prefers-reduced-motion: reduce)";function U(){return window.matchMedia(w).matches}const x=M(U(),e=>{{const s=r=>{e(r.matches)},t=window.matchMedia(w);return t.addEventListener("change",s),()=>{t.removeEventListener("change",s)}}});export{I as a,O as b,b as g,E as m,x as p,R as s};
