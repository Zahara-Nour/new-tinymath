import{c as Qt,P as $t,a as en,g as tn}from"../chunks/db.SyFzU9Zt.js";import{s as Xe,e as K,i as A,r as z,d as w,u as ze,v as nn,w as ge,x as ot,y as We,f as T,g as E,h as D,j as y,z as S,A as on,B as it,C as Ye,D as rt,a as G,c as q,H as Ge,E as qe,F as st,q as Ae,l as be,m as _e,G as at,I as lt,n as ve,J as rn,K as sn,L as an,M as ln,N as cn,o as fn,O as un}from"../chunks/scheduler.rZW7Z6w_.js";import{S as St,i as Tt,a as L,g as de,t as B,c as me,f as dn,h as ct,j as mn,b as ae,d as Pe,m as le,e as ce}from"../chunks/index.WQ7nL_NI.js";import{p as hn,t as pn,u as je,c as gn}from"../chunks/stores.GqnCJTk4.js";import{i as bn}from"../chunks/navigation.KipUJB2f.js";import{s as _n}from"../chunks/popup.com7zbKe.js";import{i as vn,g as yn}from"../chunks/stores.8166QIDq.js";import{i as wn,g as kn}from"../chunks/stores.1iyPiYy6.js";import{i as Cn,f as On}from"../chunks/focusTrap.yyDHJah4.js";import{p as Sn}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.6aodKNVu.js";import{g as ye,a as xe}from"../chunks/spread.rEx3vLA9.js";import{d as Te}from"../chunks/transitions.EIq_G_5P.js";import{f as ft,a as ut}from"../chunks/index.dYUW6ArD.js";import{T as Tn}from"../chunks/Toast.VZ6ZngT2.js";import{m as En,p as dt,a as mt,d as An}from"../chunks/navadraStore.743yHpnF.js";new TextEncoder;const Pn=new TextDecoder,xn=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n},Rn=t=>{let e=t;e instanceof Uint8Array&&(e=Pn.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return xn(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},Ln=Rn;var Nn=Object.create,Et=Object.defineProperty,Dn=Object.getOwnPropertyDescriptor,At=Object.getOwnPropertyNames,Bn=Object.getPrototypeOf,Mn=Object.prototype.hasOwnProperty,In=(t,e)=>function(){return e||(0,t[At(t)[0]])((e={exports:{}}).exports,e),e.exports},Fn=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of At(e))!Mn.call(t,r)&&r!==n&&Et(t,r,{get:()=>e[r],enumerable:!(o=Dn(e,r))||o.enumerable});return t},Pt=(t,e,n)=>(n=t!=null?Nn(Bn(t)):{},Fn(e||!t||!t.__esModule?Et(n,"default",{value:t,enumerable:!0}):n,t)),xt=In({"../../node_modules/.pnpm/cookie@0.5.0/node_modules/cookie/index.js"(t){t.parse=o,t.serialize=r;var e=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(a,f){if(typeof a!="string")throw new TypeError("argument str must be a string");for(var m={},d=f||{},u=d.decode||i,h=0;h<a.length;){var p=a.indexOf("=",h);if(p===-1)break;var _=a.indexOf(";",h);if(_===-1)_=a.length;else if(_<p){h=a.lastIndexOf(";",p-1)+1;continue}var b=a.slice(h,p).trim();if(m[b]===void 0){var v=a.slice(p+1,_).trim();v.charCodeAt(0)===34&&(v=v.slice(1,-1)),m[b]=c(v,u)}h=_+1}return m}function r(a,f,m){var d=m||{},u=d.encode||s;if(typeof u!="function")throw new TypeError("option encode is invalid");if(!n.test(a))throw new TypeError("argument name is invalid");var h=u(f);if(h&&!n.test(h))throw new TypeError("argument val is invalid");var p=a+"="+h;if(d.maxAge!=null){var _=d.maxAge-0;if(isNaN(_)||!isFinite(_))throw new TypeError("option maxAge is invalid");p+="; Max-Age="+Math.floor(_)}if(d.domain){if(!n.test(d.domain))throw new TypeError("option domain is invalid");p+="; Domain="+d.domain}if(d.path){if(!n.test(d.path))throw new TypeError("option path is invalid");p+="; Path="+d.path}if(d.expires){var b=d.expires;if(!l(b)||isNaN(b.valueOf()))throw new TypeError("option expires is invalid");p+="; Expires="+b.toUTCString()}if(d.httpOnly&&(p+="; HttpOnly"),d.secure&&(p+="; Secure"),d.priority){var v=typeof d.priority=="string"?d.priority.toLowerCase():d.priority;switch(v){case"low":p+="; Priority=Low";break;case"medium":p+="; Priority=Medium";break;case"high":p+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(d.sameSite){var k=typeof d.sameSite=="string"?d.sameSite.toLowerCase():d.sameSite;switch(k){case!0:p+="; SameSite=Strict";break;case"lax":p+="; SameSite=Lax";break;case"strict":p+="; SameSite=Strict";break;case"none":p+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return p}function i(a){return a.indexOf("%")!==-1?decodeURIComponent(a):a}function s(a){return encodeURIComponent(a)}function l(a){return e.call(a)==="[object Date]"||a instanceof Date}function c(a,f){try{return f(a)}catch{return a}}}}),He=Pt(xt()),Rt=Pt(xt());function ht(t){if(!t)return null;try{const e=JSON.parse(t);if(!e)return null;if(e.constructor.name==="Object")return e;if(e.constructor.name!=="Array")throw new Error(`Unexpected format: ${e.constructor.name}`);const[n,o,r]=e[0].split("."),i=Ln(o),s=new TextDecoder,{exp:l,sub:c,...a}=JSON.parse(s.decode(i));return{expires_at:l,expires_in:l-Math.round(Date.now()/1e3),token_type:"bearer",access_token:e[0],refresh_token:e[1],provider_token:e[2],provider_refresh_token:e[3],user:{id:c,factors:e[4],...a}}}catch(e){return console.warn("Failed to parse cookie string:",e),null}}function Un(t){var e;return JSON.stringify([t.access_token,t.refresh_token,t.provider_token,t.provider_refresh_token,((e=t.user)==null?void 0:e.factors)??null])}function re(){return typeof window<"u"&&typeof window.document<"u"}var pt={path:"/",sameSite:"lax",maxAge:60*60*24*365*1e3};function Lt(t){return new RegExp(".{1,"+t+"}","g")}var Nt=3180,jn=Lt(Nt);function Hn(t,e,n){const o=n!==void 0?Lt(n):jn;if(Math.ceil(e.length/(n??Nt))===1)return[{name:t,value:e}];const i=[],s=e.match(o);return s?.forEach((l,c)=>{const a=`${t}.${c}`;i.push({name:a,value:l})}),i}function Vn(t,e=()=>null){let n=[];for(let o=0;;o++){const r=`${t}.${o}`,i=e(r);if(!i)break;n.push(i)}return n.length?n.join(""):null}var zn=class{constructor(t){this.cookieOptions={...pt,...t,maxAge:pt.maxAge}}getItem(t){const e=this.getCookie(t);if(t.endsWith("-code-verifier")&&e)return e;if(e)return JSON.stringify(ht(e));const n=Vn(t,o=>this.getCookie(o));return n!==null?JSON.stringify(ht(n)):null}setItem(t,e){if(t.endsWith("-code-verifier")){this.setCookie(t,e);return}let n=JSON.parse(e);const o=Un(n);Hn(t,o).forEach(i=>{this.setCookie(i.name,i.value)})}removeItem(t){this._deleteSingleCookie(t),this._deleteChunkedCookies(t)}_deleteSingleCookie(t){this.getCookie(t)&&this.deleteCookie(t)}_deleteChunkedCookies(t,e=0){for(let n=e;;n++){const o=`${t}.${n}`;if(this.getCookie(o)===void 0)break;this.deleteCookie(o)}}},Wn=class extends zn{constructor(t){super(t)}getCookie(t){return re()?(0,He.parse)(document.cookie)[t]:null}setCookie(t,e){if(!re())return null;document.cookie=(0,He.serialize)(t,e,{...this.cookieOptions,httpOnly:!1})}deleteCookie(t){if(!re())return null;document.cookie=(0,He.serialize)(t,"",{...this.cookieOptions,maxAge:0,httpOnly:!1})}};function Kn(t,e,n){var o;const r=re();return Qt(t,e,{...n,auth:{flowType:"pkce",autoRefreshToken:r,detectSessionInUrl:r,persistSession:!0,storage:n.auth.storage,...(o=n.auth)!=null&&o.storageKey?{storageKey:n.auth.storageKey}:{}}})}Rt.parse;Rt.serialize;/*! Bundled license information:

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var Jn=class extends Wn{constructor(t=null,e){super(e),this.serverSession=t}getItem(t){return re()?super.getItem(t):JSON.stringify(this.serverSession)}},Ve;function Xn({supabaseUrl:t,supabaseKey:e,event:n,serverSession:o,options:r,cookieOptions:i}){var s;const l=re();if(l&&Ve)return Ve;const c=Kn(t,e,{...r,global:{fetch:n.fetch,...r?.global,headers:{...(s=r?.global)==null?void 0:s.headers,"X-Client-Info":"@supabase/auth-helpers-sveltekit@0.10.7"}},auth:{storage:new Jn(o,i)}});return l&&(Ve=c),c}const Yn=async({fetch:t,data:e,depends:n})=>(n("supabase:auth"),{supabase:Xn({supabaseUrl:$t,supabaseKey:en,event:{fetch:t},serverSession:e.session}),...e}),ai=Object.freeze(Object.defineProperty({__proto__:null,load:Yn},Symbol.toStringTag,{value:"Module"}));function Gn(){wn(),vn(),Cn()}function gt(t){let e=t[13],n,o,r=yt(t);return{c(){r.c(),n=K()},l(i){r.l(i),n=K()},m(i,s){r.m(i,s),A(i,n,s),o=!0},p(i,s){s[0]&8192&&Xe(e,e=i[13])?(de(),B(r,1,1,We),me(),r=yt(i),r.c(),L(r,1),r.m(n.parentNode,n)):r.p(i,s)},i(i){o||(L(r),o=!0)},o(i){B(r),o=!1},d(i){i&&w(n),r.d(i)}}}function qn(t){let e,n,o,r,i,s;const l=[$n,Qn],c=[];function a(f,m){return f[15]?.slot?0:1}return n=a(t),o=c[n]=l[n](t),{c(){e=T("div"),o.c(),this.h()},l(f){e=E(f,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var m=D(e);o.l(m),m.forEach(w),this.h()},h(){y(e,"class",r="modal contents "+(t[13][0]?.modalClasses??"")),y(e,"data-testid","modal-component"),y(e,"role","dialog"),y(e,"aria-modal","true"),y(e,"aria-label",i=t[13][0].title??"")},m(f,m){A(f,e,m),c[n].m(e,null),s=!0},p(f,m){let d=n;n=a(f),n===d?c[n].p(f,m):(de(),B(c[d],1,1,()=>{c[d]=null}),me(),o=c[n],o?o.p(f,m):(o=c[n]=l[n](f),o.c()),L(o,1),o.m(e,null)),(!s||m[0]&8192&&r!==(r="modal contents "+(f[13][0]?.modalClasses??"")))&&y(e,"class",r),(!s||m[0]&8192&&i!==(i=f[13][0].title??""))&&y(e,"aria-label",i)},i(f){s||(L(o),s=!0)},o(f){B(o),s=!1},d(f){f&&w(e),c[n].d()}}}function Zn(t){let e,n,o,r,i,s,l=t[13][0]?.title&&bt(t),c=t[13][0]?.body&&_t(t),a=t[13][0]?.image&&typeof t[13][0]?.image=="string"&&vt(t);function f(u,h){if(u[13][0].type==="alert")return oo;if(u[13][0].type==="confirm")return no;if(u[13][0].type==="prompt")return to}let m=f(t),d=m&&m(t);return{c(){e=T("div"),l&&l.c(),n=G(),c&&c.c(),o=G(),a&&a.c(),r=G(),d&&d.c(),this.h()},l(u){e=E(u,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var h=D(e);l&&l.l(h),n=q(h),c&&c.l(h),o=q(h),a&&a.l(h),r=q(h),d&&d.l(h),h.forEach(w),this.h()},h(){y(e,"class",i="modal "+t[17]),y(e,"data-testid","modal"),y(e,"role","dialog"),y(e,"aria-modal","true"),y(e,"aria-label",s=t[13][0].title??"")},m(u,h){A(u,e,h),l&&l.m(e,null),S(e,n),c&&c.m(e,null),S(e,o),a&&a.m(e,null),S(e,r),d&&d.m(e,null)},p(u,h){u[13][0]?.title?l?l.p(u,h):(l=bt(u),l.c(),l.m(e,n)):l&&(l.d(1),l=null),u[13][0]?.body?c?c.p(u,h):(c=_t(u),c.c(),c.m(e,o)):c&&(c.d(1),c=null),u[13][0]?.image&&typeof u[13][0]?.image=="string"?a?a.p(u,h):(a=vt(u),a.c(),a.m(e,r)):a&&(a.d(1),a=null),m===(m=f(u))&&d?d.p(u,h):(d&&d.d(1),d=m&&m(u),d&&(d.c(),d.m(e,null))),h[0]&131072&&i!==(i="modal "+u[17])&&y(e,"class",i),h[0]&8192&&s!==(s=u[13][0].title??"")&&y(e,"aria-label",s)},i:We,o:We,d(u){u&&w(e),l&&l.d(),c&&c.d(),a&&a.d(),d&&d.d()}}}function Qn(t){let e,n,o;const r=[t[15]?.props,{parent:t[16]}];var i=t[15]?.ref;function s(l,c){let a={};if(c!==void 0&&c[0]&98304)a=ye(r,[c[0]&32768&&xe(l[15]?.props),c[0]&65536&&{parent:l[16]}]);else for(let f=0;f<r.length;f+=1)a=ge(a,r[f]);return{props:a}}return i&&(e=Ae(i,s(t))),{c(){e&&ae(e.$$.fragment),n=K()},l(l){e&&Pe(e.$$.fragment,l),n=K()},m(l,c){e&&le(e,l,c),A(l,n,c),o=!0},p(l,c){if(c[0]&32768&&i!==(i=l[15]?.ref)){if(e){de();const a=e;B(a.$$.fragment,1,0,()=>{ce(a,1)}),me()}i?(e=Ae(i,s(l,c)),ae(e.$$.fragment),L(e.$$.fragment,1),le(e,n.parentNode,n)):e=null}else if(i){const a=c[0]&98304?ye(r,[c[0]&32768&&xe(l[15]?.props),c[0]&65536&&{parent:l[16]}]):{};e.$set(a)}},i(l){o||(e&&L(e.$$.fragment,l),o=!0)},o(l){e&&B(e.$$.fragment,l),o=!1},d(l){l&&w(n),e&&ce(e,l)}}}function $n(t){let e,n,o;const r=[t[15]?.props,{parent:t[16]}];var i=t[15]?.ref;function s(l,c){let a={$$slots:{default:[eo]},$$scope:{ctx:l}};if(c!==void 0&&c[0]&98304)a=ye(r,[c[0]&32768&&xe(l[15]?.props),c[0]&65536&&{parent:l[16]}]);else for(let f=0;f<r.length;f+=1)a=ge(a,r[f]);return{props:a}}return i&&(e=Ae(i,s(t))),{c(){e&&ae(e.$$.fragment),n=K()},l(l){e&&Pe(e.$$.fragment,l),n=K()},m(l,c){e&&le(e,l,c),A(l,n,c),o=!0},p(l,c){if(c[0]&32768&&i!==(i=l[15]?.ref)){if(e){de();const a=e;B(a.$$.fragment,1,0,()=>{ce(a,1)}),me()}i?(e=Ae(i,s(l,c)),ae(e.$$.fragment),L(e.$$.fragment,1),le(e,n.parentNode,n)):e=null}else if(i){const a=c[0]&98304?ye(r,[c[0]&32768&&xe(l[15]?.props),c[0]&65536&&{parent:l[16]}]):{};c[0]&32768|c[1]&65536&&(a.$$scope={dirty:c,ctx:l}),e.$set(a)}},i(l){o||(e&&L(e.$$.fragment,l),o=!0)},o(l){e&&B(e.$$.fragment,l),o=!1},d(l){l&&w(n),e&&ce(e,l)}}}function eo(t){let e,n=t[15]?.slot+"",o;return{c(){e=new Ge(!1),o=K(),this.h()},l(r){e=qe(r,!1),o=K(),this.h()},h(){e.a=o},m(r,i){e.m(n,r,i),A(r,o,i)},p(r,i){i[0]&32768&&n!==(n=r[15]?.slot+"")&&e.p(n)},d(r){r&&(w(o),e.d())}}}function bt(t){let e,n,o=t[13][0].title+"",r;return{c(){e=T("header"),n=new Ge(!1),this.h()},l(i){e=E(i,"HEADER",{class:!0});var s=D(e);n=qe(s,!1),s.forEach(w),this.h()},h(){n.a=null,y(e,"class",r="modal-header "+t[5])},m(i,s){A(i,e,s),n.m(o,e)},p(i,s){s[0]&8192&&o!==(o=i[13][0].title+"")&&n.p(o),s[0]&32&&r!==(r="modal-header "+i[5])&&y(e,"class",r)},d(i){i&&w(e)}}}function _t(t){let e,n,o=t[13][0].body+"",r;return{c(){e=T("article"),n=new Ge(!1),this.h()},l(i){e=E(i,"ARTICLE",{class:!0});var s=D(e);n=qe(s,!1),s.forEach(w),this.h()},h(){n.a=null,y(e,"class",r="modal-body "+t[6])},m(i,s){A(i,e,s),n.m(o,e)},p(i,s){s[0]&8192&&o!==(o=i[13][0].body+"")&&n.p(o),s[0]&64&&r!==(r="modal-body "+i[6])&&y(e,"class",r)},d(i){i&&w(e)}}}function vt(t){let e,n;return{c(){e=T("img"),this.h()},l(o){e=E(o,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){y(e,"class","modal-image "+lo),st(e.src,n=t[13][0]?.image)||y(e,"src",n),y(e,"alt","Modal")},m(o,r){A(o,e,r)},p(o,r){r[0]&8192&&!st(e.src,n=o[13][0]?.image)&&y(e,"src",n)},d(o){o&&w(e)}}}function to(t){let e,n,o,r,i,s,l,c,a,f,m,d,u,h,p=[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},t[13][0].valueAttr],_={};for(let b=0;b<p.length;b+=1)_=ge(_,p[b]);return{c(){e=T("form"),n=T("input"),o=G(),r=T("footer"),i=T("button"),s=be(t[0]),c=G(),a=T("button"),f=be(t[2]),this.h()},l(b){e=E(b,"FORM",{class:!0});var v=D(e);n=E(v,"INPUT",{class:!0,name:!0,type:!0}),o=q(v),r=E(v,"FOOTER",{class:!0});var k=D(r);i=E(k,"BUTTON",{type:!0,class:!0});var O=D(i);s=_e(O,t[0]),O.forEach(w),c=q(k),a=E(k,"BUTTON",{type:!0,class:!0});var C=D(a);f=_e(C,t[2]),C.forEach(w),k.forEach(w),v.forEach(w),this.h()},h(){at(n,_),y(i,"type","button"),y(i,"class",l="btn "+t[3]),y(a,"type","submit"),y(a,"class",m="btn "+t[4]),y(r,"class",d="modal-footer "+t[7]),y(e,"class","space-y-4")},m(b,v){A(b,e,v),S(e,n),n.autofocus&&n.focus(),lt(n,t[14]),S(e,o),S(e,r),S(r,i),S(i,s),S(r,c),S(r,a),S(a,f),u||(h=[z(n,"input",t[41]),z(i,"click",t[23]),z(e,"submit",t[25])],u=!0)},p(b,v){at(n,_=ye(p,[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},v[0]&8192&&b[13][0].valueAttr])),v[0]&16384&&n.value!==b[14]&&lt(n,b[14]),v[0]&1&&ve(s,b[0]),v[0]&8&&l!==(l="btn "+b[3])&&y(i,"class",l),v[0]&4&&ve(f,b[2]),v[0]&16&&m!==(m="btn "+b[4])&&y(a,"class",m),v[0]&128&&d!==(d="modal-footer "+b[7])&&y(r,"class",d)},d(b){b&&w(e),u=!1,Ye(h)}}}function no(t){let e,n,o,r,i,s,l,c,a,f,m;return{c(){e=T("footer"),n=T("button"),o=be(t[0]),i=G(),s=T("button"),l=be(t[1]),this.h()},l(d){e=E(d,"FOOTER",{class:!0});var u=D(e);n=E(u,"BUTTON",{type:!0,class:!0});var h=D(n);o=_e(h,t[0]),h.forEach(w),i=q(u),s=E(u,"BUTTON",{type:!0,class:!0});var p=D(s);l=_e(p,t[1]),p.forEach(w),u.forEach(w),this.h()},h(){y(n,"type","button"),y(n,"class",r="btn "+t[3]),y(s,"type","button"),y(s,"class",c="btn "+t[4]),y(e,"class",a="modal-footer "+t[7])},m(d,u){A(d,e,u),S(e,n),S(n,o),S(e,i),S(e,s),S(s,l),f||(m=[z(n,"click",t[23]),z(s,"click",t[24])],f=!0)},p(d,u){u[0]&1&&ve(o,d[0]),u[0]&8&&r!==(r="btn "+d[3])&&y(n,"class",r),u[0]&2&&ve(l,d[1]),u[0]&16&&c!==(c="btn "+d[4])&&y(s,"class",c),u[0]&128&&a!==(a="modal-footer "+d[7])&&y(e,"class",a)},d(d){d&&w(e),f=!1,Ye(m)}}}function oo(t){let e,n,o,r,i,s,l;return{c(){e=T("footer"),n=T("button"),o=be(t[0]),this.h()},l(c){e=E(c,"FOOTER",{class:!0});var a=D(e);n=E(a,"BUTTON",{type:!0,class:!0});var f=D(n);o=_e(f,t[0]),f.forEach(w),a.forEach(w),this.h()},h(){y(n,"type","button"),y(n,"class",r="btn "+t[3]),y(e,"class",i="modal-footer "+t[7])},m(c,a){A(c,e,a),S(e,n),S(n,o),s||(l=z(n,"click",t[23]),s=!0)},p(c,a){a[0]&1&&ve(o,c[0]),a[0]&8&&r!==(r="btn "+c[3])&&y(n,"class",r),a[0]&128&&i!==(i="modal-footer "+c[7])&&y(e,"class",i)},d(c){c&&w(e),s=!1,l()}}}function yt(t){let e,n,o,r,i,s,l,c,a,f,m,d;const u=[Zn,qn],h=[];function p(_,b){return _[13][0].type!=="component"?0:1}return o=p(t),r=h[o]=u[o](t),{c(){e=T("div"),n=T("div"),r.c(),this.h()},l(_){e=E(_,"DIV",{class:!0,"data-testid":!0});var b=D(e);n=E(b,"DIV",{class:!0});var v=D(n);r.l(v),v.forEach(w),b.forEach(w),this.h()},h(){y(n,"class",i="modal-transition "+t[18]),y(e,"class",c="modal-backdrop "+t[19]),y(e,"data-testid","modal-backdrop")},m(_,b){A(_,e,b),S(e,n),h[o].m(n,null),f=!0,m||(d=[z(e,"mousedown",t[21]),z(e,"mouseup",t[22]),z(e,"touchstart",t[39],{passive:!0}),z(e,"touchend",t[40],{passive:!0}),on(On.call(null,e,!0))],m=!0)},p(_,b){t=_;let v=o;o=p(t),o===v?h[o].p(t,b):(de(),B(h[v],1,1,()=>{h[v]=null}),me(),r=h[o],r?r.p(t,b):(r=h[o]=u[o](t),r.c()),L(r,1),r.m(n,null)),(!f||b[0]&262144&&i!==(i="modal-transition "+t[18]))&&y(n,"class",i),(!f||b[0]&524288&&c!==(c="modal-backdrop "+t[19]))&&y(e,"class",c)},i(_){f||(L(r),it(()=>{f&&(l&&l.end(1),s=dn(n,Te,{transition:t[9],params:t[10],enabled:t[8]}),s.start())}),it(()=>{f&&(a||(a=ct(e,Te,{transition:ft,params:{duration:150},enabled:t[8]},!0)),a.run(1))}),f=!0)},o(_){B(r),s&&s.invalidate(),l=mn(n,Te,{transition:t[11],params:t[12],enabled:t[8]}),a||(a=ct(e,Te,{transition:ft,params:{duration:150},enabled:t[8]},!1)),a.run(0),f=!1},d(_){_&&w(e),h[o].d(),_&&l&&l.end(),_&&a&&a.end(),m=!1,Ye(d)}}}function io(t){let e,n,o,r,i=t[13].length>0&&gt(t);return{c(){i&&i.c(),e=K()},l(s){i&&i.l(s),e=K()},m(s,l){i&&i.m(s,l),A(s,e,l),n=!0,o||(r=z(window,"keydown",t[26]),o=!0)},p(s,l){s[13].length>0?i?(i.p(s,l),l[0]&8192&&L(i,1)):(i=gt(s),i.c(),L(i,1),i.m(e.parentNode,e)):i&&(de(),B(i,1,1,()=>{i=null}),me())},i(s){n||(L(i),n=!0)},o(s){B(i),n=!1},d(s){s&&w(e),i&&i.d(s),o=!1,r()}}}const ro="fixed top-0 left-0 right-0 bottom-0 overflow-y-auto",so="w-full h-fit min-h-full p-4 overflow-y-auto flex justify-center",ao="block overflow-y-auto",lo="w-full h-auto";function co(t,e,n){let o,r,i,s,l,c,a;ze(t,Sn,g=>n(43,a=g));const f=nn();let{position:m="items-center"}=e,{components:d={}}=e,{background:u="bg-surface-100-800-token"}=e,{width:h="w-modal"}=e,{height:p="h-auto"}=e,{padding:_="p-4"}=e,{spacing:b="space-y-4"}=e,{rounded:v="rounded-container-token"}=e,{shadow:k="shadow-xl"}=e,{zIndex:O="z-[999]"}=e,{buttonNeutral:C="variant-ghost-surface"}=e,{buttonPositive:N="variant-filled"}=e,{buttonTextCancel:P="Cancel"}=e,{buttonTextConfirm:M="Confirm"}=e,{buttonTextSubmit:V="Submit"}=e,{regionBackdrop:W="bg-surface-backdrop-token"}=e,{regionHeader:X="text-2xl font-bold"}=e,{regionBody:x="max-h-[200px] overflow-hidden"}=e,{regionFooter:Y="flex justify-end space-x-2"}=e,{transitions:R=!a}=e,{transitionIn:I=ut}=e,{transitionInParams:F={duration:150,opacity:0,x:0,y:100}}=e,{transitionOut:j=ut}=e,{transitionOutParams:Se={duration:150,opacity:0,x:0,y:100}}=e,he;const Ie={buttonTextCancel:P,buttonTextConfirm:M,buttonTextSubmit:V};let nt,Fe=!1;const te=kn();ze(t,te,g=>n(13,c=g)),te.subscribe(g=>{g.length&&(g[0].type==="prompt"&&n(14,he=g[0].value),n(0,P=g[0].buttonTextCancel||Ie.buttonTextCancel),n(1,M=g[0].buttonTextConfirm||Ie.buttonTextConfirm),n(2,V=g[0].buttonTextSubmit||Ie.buttonTextSubmit),n(15,nt=typeof g[0].component=="string"?d[g[0].component]:g[0].component))});function Wt(g){if(!(g.target instanceof Element))return;const pe=g.target.classList;(pe.contains("modal-backdrop")||pe.contains("modal-transition"))&&(Fe=!0)}function Kt(g){if(!(g.target instanceof Element))return;const pe=g.target.classList;(pe.contains("modal-backdrop")||pe.contains("modal-transition"))&&Fe&&(c[0].response&&c[0].response(void 0),te.close(),f("backdrop",g)),Fe=!1}function Ue(){c[0].response&&c[0].response(!1),te.close()}function Jt(){c[0].response&&c[0].response(!0),te.close()}function Xt(g){g.preventDefault(),c[0].response&&c[0].response(he),te.close()}function Yt(g){c.length&&g.code==="Escape"&&Ue()}function Gt(g){rt.call(this,t,g)}function qt(g){rt.call(this,t,g)}function Zt(){he=this.value,n(14,he)}return t.$$set=g=>{n(46,e=ge(ge({},e),ot(g))),"position"in g&&n(27,m=g.position),"components"in g&&n(28,d=g.components),"background"in g&&n(29,u=g.background),"width"in g&&n(30,h=g.width),"height"in g&&n(31,p=g.height),"padding"in g&&n(32,_=g.padding),"spacing"in g&&n(33,b=g.spacing),"rounded"in g&&n(34,v=g.rounded),"shadow"in g&&n(35,k=g.shadow),"zIndex"in g&&n(36,O=g.zIndex),"buttonNeutral"in g&&n(3,C=g.buttonNeutral),"buttonPositive"in g&&n(4,N=g.buttonPositive),"buttonTextCancel"in g&&n(0,P=g.buttonTextCancel),"buttonTextConfirm"in g&&n(1,M=g.buttonTextConfirm),"buttonTextSubmit"in g&&n(2,V=g.buttonTextSubmit),"regionBackdrop"in g&&n(37,W=g.regionBackdrop),"regionHeader"in g&&n(5,X=g.regionHeader),"regionBody"in g&&n(6,x=g.regionBody),"regionFooter"in g&&n(7,Y=g.regionFooter),"transitions"in g&&n(8,R=g.transitions),"transitionIn"in g&&n(9,I=g.transitionIn),"transitionInParams"in g&&n(10,F=g.transitionInParams),"transitionOut"in g&&n(11,j=g.transitionOut),"transitionOutParams"in g&&n(12,Se=g.transitionOutParams)},t.$$.update=()=>{t.$$.dirty[0]&134225920&&n(38,o=c[0]?.position??m),n(19,r=`${ro} ${W} ${O} ${e.class??""} ${c[0]?.backdropClasses??""}`),t.$$.dirty[1]&128&&n(18,i=`${so} ${o??""}`),t.$$.dirty[0]&1610620928|t.$$.dirty[1]&31&&n(17,s=`${ao} ${u} ${h} ${p} ${_} ${b} ${v} ${k} ${c[0]?.modalClasses??""}`),t.$$.dirty[0]&1744830719|t.$$.dirty[1]&95&&n(16,l={position:m,background:u,width:h,height:p,padding:_,spacing:b,rounded:v,shadow:k,buttonNeutral:C,buttonPositive:N,buttonTextCancel:P,buttonTextConfirm:M,buttonTextSubmit:V,regionBackdrop:W,regionHeader:X,regionBody:x,regionFooter:Y,onClose:Ue})},e=ot(e),[P,M,V,C,N,X,x,Y,R,I,F,j,Se,c,he,nt,l,s,i,r,te,Wt,Kt,Ue,Jt,Xt,Yt,m,d,u,h,p,_,b,v,k,O,W,o,Gt,qt,Zt]}class fo extends St{constructor(e){super(),Tt(this,e,co,io,Xe,{position:27,components:28,background:29,width:30,height:31,padding:32,spacing:33,rounded:34,shadow:35,zIndex:36,buttonNeutral:3,buttonPositive:4,buttonTextCancel:0,buttonTextConfirm:1,buttonTextSubmit:2,regionBackdrop:37,regionHeader:5,regionBody:6,regionFooter:7,transitions:8,transitionIn:9,transitionInParams:10,transitionOut:11,transitionOutParams:12},null,[-1,-1])}}const fe=Math.min,ne=Math.max,Re=Math.round,Ee=Math.floor,$=t=>({x:t,y:t}),uo={left:"right",right:"left",bottom:"top",top:"bottom"},mo={start:"end",end:"start"};function Ke(t,e,n){return ne(t,fe(e,n))}function ke(t,e){return typeof t=="function"?t(e):t}function oe(t){return t.split("-")[0]}function Ce(t){return t.split("-")[1]}function Dt(t){return t==="x"?"y":"x"}function Ze(t){return t==="y"?"height":"width"}function De(t){return["top","bottom"].includes(oe(t))?"y":"x"}function Qe(t){return Dt(De(t))}function ho(t,e,n){n===void 0&&(n=!1);const o=Ce(t),r=Qe(t),i=Ze(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Le(s)),[s,Le(s)]}function po(t){const e=Le(t);return[Je(t),e,Je(e)]}function Je(t){return t.replace(/start|end/g,e=>mo[e])}function go(t,e,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:o:e?o:r;case"left":case"right":return e?i:s;default:return[]}}function bo(t,e,n,o){const r=Ce(t);let i=go(oe(t),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(Je)))),i}function Le(t){return t.replace(/left|right|bottom|top/g,e=>uo[e])}function _o(t){return{top:0,right:0,bottom:0,left:0,...t}}function Bt(t){return typeof t!="number"?_o(t):{top:t,right:t,bottom:t,left:t}}function Ne(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function wt(t,e,n){let{reference:o,floating:r}=t;const i=De(e),s=Qe(e),l=Ze(s),c=oe(e),a=i==="y",f=o.x+o.width/2-r.width/2,m=o.y+o.height/2-r.height/2,d=o[l]/2-r[l]/2;let u;switch(c){case"top":u={x:f,y:o.y-r.height};break;case"bottom":u={x:f,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:m};break;case"left":u={x:o.x-r.width,y:m};break;default:u={x:o.x,y:o.y}}switch(Ce(e)){case"start":u[s]-=d*(n&&a?-1:1);break;case"end":u[s]+=d*(n&&a?-1:1);break}return u}const vo=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let a=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:m}=wt(a,o,c),d=o,u={},h=0;for(let p=0;p<l.length;p++){const{name:_,fn:b}=l[p],{x:v,y:k,data:O,reset:C}=await b({x:f,y:m,initialPlacement:o,placement:d,strategy:r,middlewareData:u,rects:a,platform:s,elements:{reference:t,floating:e}});if(f=v??f,m=k??m,u={...u,[_]:{...u[_],...O}},C&&h<=50){h++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(a=C.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):C.rects),{x:f,y:m}=wt(a,d,c)),p=-1;continue}}return{x:f,y:m,placement:d,strategy:r,middlewareData:u}};async function Mt(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:c}=t,{boundary:a="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:d=!1,padding:u=0}=ke(e,t),h=Bt(u),_=l[d?m==="floating"?"reference":"floating":m],b=Ne(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:a,rootBoundary:f,strategy:c})),v=m==="floating"?{...s.floating,x:o,y:r}:s.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),O=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},C=Ne(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:k,strategy:c}):v);return{top:(b.top-C.top+h.top)/O.y,bottom:(C.bottom-b.bottom+h.bottom)/O.y,left:(b.left-C.left+h.left)/O.x,right:(C.right-b.right+h.right)/O.x}}const yo=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:i,platform:s,elements:l,middlewareData:c}=e,{element:a,padding:f=0}=ke(t,e)||{};if(a==null)return{};const m=Bt(f),d={x:n,y:o},u=Qe(r),h=Ze(u),p=await s.getDimensions(a),_=u==="y",b=_?"top":"left",v=_?"bottom":"right",k=_?"clientHeight":"clientWidth",O=i.reference[h]+i.reference[u]-d[u]-i.floating[h],C=d[u]-i.reference[u],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let P=N?N[k]:0;(!P||!await(s.isElement==null?void 0:s.isElement(N)))&&(P=l.floating[k]||i.floating[h]);const M=O/2-C/2,V=P/2-p[h]/2-1,W=fe(m[b],V),X=fe(m[v],V),x=W,Y=P-p[h]-X,R=P/2-p[h]/2+M,I=Ke(x,R,Y),F=!c.arrow&&Ce(r)!=null&&R!=I&&i.reference[h]/2-(R<x?W:X)-p[h]/2<0,j=F?R<x?R-x:R-Y:0;return{[u]:d[u]+j,data:{[u]:I,centerOffset:R-I-j,...F&&{alignmentOffset:j}},reset:F}}}),wo=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:a}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:d,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,..._}=ke(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=oe(r),v=oe(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(a.floating)),O=d||(v||!p?[Le(l)]:po(l));!d&&h!=="none"&&O.push(...bo(l,p,h,k));const C=[l,...O],N=await Mt(e,_),P=[];let M=((o=i.flip)==null?void 0:o.overflows)||[];if(f&&P.push(N[b]),m){const x=ho(r,s,k);P.push(N[x[0]],N[x[1]])}if(M=[...M,{placement:r,overflows:P}],!P.every(x=>x<=0)){var V,W;const x=(((V=i.flip)==null?void 0:V.index)||0)+1,Y=C[x];if(Y)return{data:{index:x,overflows:M},reset:{placement:Y}};let R=(W=M.filter(I=>I.overflows[0]<=0).sort((I,F)=>I.overflows[1]-F.overflows[1])[0])==null?void 0:W.placement;if(!R)switch(u){case"bestFit":{var X;const I=(X=M.map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,Se)=>j+Se,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:X[0];I&&(R=I);break}case"initialPlacement":R=l;break}if(r!==R)return{reset:{placement:R}}}return{}}}};async function ko(t,e){const{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=oe(n),l=Ce(n),c=De(n)==="y",a=["left","top"].includes(s)?-1:1,f=i&&c?-1:1,m=ke(e,t);let{mainAxis:d,crossAxis:u,alignmentAxis:h}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return l&&typeof h=="number"&&(u=l==="end"?h*-1:h),c?{x:u*f,y:d*a}:{x:d*a,y:u*f}}const Co=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=e,c=await ko(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:s}}}}},Oo=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:_=>{let{x:b,y:v}=_;return{x:b,y:v}}},...c}=ke(t,e),a={x:n,y:o},f=await Mt(e,c),m=De(oe(r)),d=Dt(m);let u=a[d],h=a[m];if(i){const _=d==="y"?"top":"left",b=d==="y"?"bottom":"right",v=u+f[_],k=u-f[b];u=Ke(v,u,k)}if(s){const _=m==="y"?"top":"left",b=m==="y"?"bottom":"right",v=h+f[_],k=h-f[b];h=Ke(v,h,k)}const p=l.fn({...e,[d]:u,[m]:h});return{...p,data:{x:p.x-n,y:p.y-o}}}}};function ee(t){return It(t)?(t.nodeName||"").toLowerCase():"#document"}function U(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Q(t){var e;return(e=(It(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function It(t){return t instanceof Node||t instanceof U(t).Node}function Z(t){return t instanceof Element||t instanceof U(t).Element}function J(t){return t instanceof HTMLElement||t instanceof U(t).HTMLElement}function kt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof U(t).ShadowRoot}function Oe(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=H(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(r)}function So(t){return["table","td","th"].includes(ee(t))}function $e(t){const e=et(),n=H(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function To(t){let e=ue(t);for(;J(e)&&!Be(e);){if($e(e))return e;e=ue(e)}return null}function et(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Be(t){return["html","body","#document"].includes(ee(t))}function H(t){return U(t).getComputedStyle(t)}function Me(t){return Z(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ue(t){if(ee(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kt(t)&&t.host||Q(t);return kt(e)?e.host:e}function Ft(t){const e=ue(t);return Be(e)?t.ownerDocument?t.ownerDocument.body:t.body:J(e)&&Oe(e)?e:Ft(e)}function we(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=Ft(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),s=U(r);return i?e.concat(s,s.visualViewport||[],Oe(r)?r:[],s.frameElement&&n?we(s.frameElement):[]):e.concat(r,we(r,[],n))}function Ut(t){const e=H(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=J(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:o,l=Re(n)!==i||Re(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function tt(t){return Z(t)?t:t.contextElement}function se(t){const e=tt(t);if(!J(e))return $(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=Ut(e);let s=(i?Re(n.width):n.width)/o,l=(i?Re(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Eo=$(0);function jt(t){const e=U(t);return!et()||!e.visualViewport?Eo:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ao(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==U(t)?!1:e}function ie(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=tt(t);let s=$(1);e&&(o?Z(o)&&(s=se(o)):s=se(t));const l=Ao(i,n,o)?jt(i):$(0);let c=(r.left+l.x)/s.x,a=(r.top+l.y)/s.y,f=r.width/s.x,m=r.height/s.y;if(i){const d=U(i),u=o&&Z(o)?U(o):o;let h=d.frameElement;for(;h&&o&&u!==d;){const p=se(h),_=h.getBoundingClientRect(),b=H(h),v=_.left+(h.clientLeft+parseFloat(b.paddingLeft))*p.x,k=_.top+(h.clientTop+parseFloat(b.paddingTop))*p.y;c*=p.x,a*=p.y,f*=p.x,m*=p.y,c+=v,a+=k,h=U(h).frameElement}}return Ne({width:f,height:m,x:c,y:a})}function Po(t){let{rect:e,offsetParent:n,strategy:o}=t;const r=J(n),i=Q(n);if(n===i)return e;let s={scrollLeft:0,scrollTop:0},l=$(1);const c=$(0);if((r||!r&&o!=="fixed")&&((ee(n)!=="body"||Oe(i))&&(s=Me(n)),J(n))){const a=ie(n);l=se(n),c.x=a.x+n.clientLeft,c.y=a.y+n.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-s.scrollLeft*l.x+c.x,y:e.y*l.y-s.scrollTop*l.y+c.y}}function xo(t){return Array.from(t.getClientRects())}function Ht(t){return ie(Q(t)).left+Me(t).scrollLeft}function Ro(t){const e=Q(t),n=Me(t),o=t.ownerDocument.body,r=ne(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=ne(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Ht(t);const l=-n.scrollTop;return H(o).direction==="rtl"&&(s+=ne(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function Lo(t,e){const n=U(t),o=Q(t),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,c=0;if(r){i=r.width,s=r.height;const a=et();(!a||a&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:s,x:l,y:c}}function No(t,e){const n=ie(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=J(t)?se(t):$(1),s=t.clientWidth*i.x,l=t.clientHeight*i.y,c=r*i.x,a=o*i.y;return{width:s,height:l,x:c,y:a}}function Ct(t,e,n){let o;if(e==="viewport")o=Lo(t,n);else if(e==="document")o=Ro(Q(t));else if(Z(e))o=No(e,n);else{const r=jt(t);o={...e,x:e.x-r.x,y:e.y-r.y}}return Ne(o)}function Vt(t,e){const n=ue(t);return n===e||!Z(n)||Be(n)?!1:H(n).position==="fixed"||Vt(n,e)}function Do(t,e){const n=e.get(t);if(n)return n;let o=we(t,[],!1).filter(l=>Z(l)&&ee(l)!=="body"),r=null;const i=H(t).position==="fixed";let s=i?ue(t):t;for(;Z(s)&&!Be(s);){const l=H(s),c=$e(s);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Oe(s)&&!c&&Vt(t,s))?o=o.filter(f=>f!==s):r=l,s=ue(s)}return e.set(t,o),o}function Bo(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const s=[...n==="clippingAncestors"?Do(e,this._c):[].concat(n),o],l=s[0],c=s.reduce((a,f)=>{const m=Ct(e,f,r);return a.top=ne(m.top,a.top),a.right=fe(m.right,a.right),a.bottom=fe(m.bottom,a.bottom),a.left=ne(m.left,a.left),a},Ct(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Mo(t){return Ut(t)}function Io(t,e,n){const o=J(e),r=Q(e),i=n==="fixed",s=ie(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=$(0);if(o||!o&&!i)if((ee(e)!=="body"||Oe(r))&&(l=Me(e)),o){const a=ie(e,!0,i,e);c.x=a.x+e.clientLeft,c.y=a.y+e.clientTop}else r&&(c.x=Ht(r));return{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function Ot(t,e){return!J(t)||H(t).position==="fixed"?null:e?e(t):t.offsetParent}function zt(t,e){const n=U(t);if(!J(t))return n;let o=Ot(t,e);for(;o&&So(o)&&H(o).position==="static";)o=Ot(o,e);return o&&(ee(o)==="html"||ee(o)==="body"&&H(o).position==="static"&&!$e(o))?n:o||To(t)||n}const Fo=async function(t){let{reference:e,floating:n,strategy:o}=t;const r=this.getOffsetParent||zt,i=this.getDimensions;return{reference:Io(e,await r(n),o),floating:{x:0,y:0,...await i(n)}}};function Uo(t){return H(t).direction==="rtl"}const jo={convertOffsetParentRelativeRectToViewportRelativeRect:Po,getDocumentElement:Q,getClippingRect:Bo,getOffsetParent:zt,getElementRects:Fo,getClientRects:xo,getDimensions:Mo,getScale:se,isElement:Z,isRTL:Uo};function Ho(t,e){let n=null,o;const r=Q(t);function i(){clearTimeout(o),n&&n.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:a,top:f,width:m,height:d}=t.getBoundingClientRect();if(l||e(),!m||!d)return;const u=Ee(f),h=Ee(r.clientWidth-(a+m)),p=Ee(r.clientHeight-(f+d)),_=Ee(a),v={rootMargin:-u+"px "+-h+"px "+-p+"px "+-_+"px",threshold:ne(0,fe(1,c))||1};let k=!0;function O(C){const N=C[0].intersectionRatio;if(N!==c){if(!k)return s();N?s(!1,N):o=setTimeout(()=>{s(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(O,{...v,root:r.ownerDocument})}catch{n=new IntersectionObserver(O,v)}n.observe(t)}return s(!0),i}function Vo(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,a=tt(t),f=r||i?[...a?we(a):[],...we(e)]:[];f.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const m=a&&l?Ho(a,n):null;let d=-1,u=null;s&&(u=new ResizeObserver(b=>{let[v]=b;v&&v.target===a&&u&&(u.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{u&&u.observe(e)})),n()}),a&&!c&&u.observe(a),u.observe(e));let h,p=c?ie(t):null;c&&_();function _(){const b=ie(t);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&n(),p=b,h=requestAnimationFrame(_)}return n(),()=>{f.forEach(b=>{r&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),m&&m(),u&&u.disconnect(),u=null,c&&cancelAnimationFrame(h)}}const zo=(t,e,n)=>{const o=new Map,r={platform:jo,...n},i={...r.platform,_c:o};return vo(t,e,{...r,platform:i})};function Wo(t){let e,n,o,r,i,s,l;o=new Tn({}),i=new fo({});const c=t[3].default,a=rn(c,t,t[2],null);return{c(){e=T("meta"),n=G(),ae(o.$$.fragment),r=G(),ae(i.$$.fragment),s=G(),a&&a.c(),this.h()},l(f){const m=sn("svelte-nkipu8",document.head);e=E(m,"META",{}),m.forEach(w),n=q(f),Pe(o.$$.fragment,f),r=q(f),Pe(i.$$.fragment,f),s=q(f),a&&a.l(f),this.h()},h(){document.title="UbuMaths - Les maths de la chandelle verte"},m(f,m){S(document.head,e),A(f,n,m),le(o,f,m),A(f,r,m),le(i,f,m),A(f,s,m),a&&a.m(f,m),l=!0},p(f,[m]){a&&a.p&&(!l||m&4)&&an(a,c,f,f[2],l?cn(c,f[2],m,null):ln(f[2]),null)},i(f){l||(L(o.$$.fragment,f),L(i.$$.fragment,f),L(a,f),l=!0)},o(f){B(o.$$.fragment,f),B(i.$$.fragment,f),B(a,f),l=!1},d(f){f&&(w(n),w(r),w(s)),w(e),ce(o,f),ce(i,f),a&&a.d(f)}}}function Ko(t,e,n){let o,r,i,s;ze(t,je,p=>n(6,s=p));let{$$slots:l={},$$scope:c}=e,{data:a}=e,{info:f,fail:m,warn:d}=tn("Layout","info");Gn();const u=yn();_n.set({computePosition:zo,autoUpdate:Vo,offset:Co,shift:Oo,flip:wo,arrow:yo}),fn(()=>{hn(),window.addEventListener("touchstart",function _(){pn.set(!0),window.removeEventListener("touchstart",_,!1),f("Touch device detected.")},!1);const{data:{subscription:p}}=o.auth.onAuthStateChange(()=>{bn("supabase:auth")});return()=>p.unsubscribe()});function h(p){if(console.log("session",p),console.log("userProfile",a.userProfile),a.errors.forEach(_=>u.trigger({message:_,background:"bg-error-500"})),p){if(a.userProfile.role!=="guest"&&p.user.id!==un(je).auth_id&&(u.trigger({message:`Bienvenue ${a.userProfile.firstname||a.userProfile.email}`,background:"bg-success-500"}),f(`User ${a.userProfile.email} signed in.`),a.playerProfile)){const _=a.monstersProfiles?.map(En.hydrateMonster)||[];dt.set(mt.createPlayer(a.playerProfile,_))}}else s.isGuest()||(f(`User ${s.firstname||s.email} signed out.`),u.trigger({message:`Bye ${a.userProfile.firstname||a.userProfile.email}`,background:"bg-success-500"}),dt.set(mt.createPlayer(An)));je.set(gn(a.userProfile))}return t.$$set=p=>{"data"in p&&n(0,a=p.data),"$$scope"in p&&n(2,c=p.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&n(1,{supabase:o,session:r,userProfile:i}=a,r),t.$$.dirty&2&&h(r)},[a,r,c,l]}class li extends St{constructor(e){super(),Tt(this,e,Ko,Wo,Xe,{data:0})}}export{li as component,ai as universal};
