import{s as x,f as k,a as S,g as w,h as y,d as m,c as q,j as f,k as p,i as M,z as v,e as de,V as He,H as qt,E as Lt,y as L,u as ie,l as me,m as he,n as Te,o as ut,W as Q,R as _e,S as ge,w as ve,x as be,r as te,P as ne,F as Be,Y as Nt,a2 as At,C as mt,B as Ot,p as Ut,$ as Pt}from"../chunks/scheduler.rZW7Z6w_.js";import{S as le,i as se,b as A,d as O,m as U,a as H,t as j,e as P,g as ae,c as oe,f as Ft,j as Gt,k as Qt}from"../chunks/index.WQ7nL_NI.js";import{e as ke}from"../chunks/each.o0bxhoLd.js";import{Q as Me,S as ht,e as dt,h as Kt,q as Oe,c as Jt,g as Zt,b as Wt,a as Ue}from"../chunks/QuestionCard.wprx8UmG.js";import{g as _t,x as Pe,s as Yt,d as Fe}from"../chunks/db.SyFzU9Zt.js";import{c as Ge,C as Xt}from"../chunks/CircularProgress.quGfjCa1.js";import{p as xt}from"../chunks/stores.Bteq4qa1.js";import{d as gt,e as vt,i as bt,v as Re,t as $t,m as el}from"../chunks/stores.GqnCJTk4.js";import{a as Qe}from"../chunks/index.dYUW6ArD.js";import{I as tl}from"../chunks/IconReload.o534m3fV.js";import{g as kt}from"../chunks/stores.8166QIDq.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.6aodKNVu.js";/* empty css                                                      */import{I as ll}from"../chunks/IconRocket.CjTAtiFi.js";function Ke(n,e,t){const l=n.slice();return l[3]=e[t],l}function sl(n){let e,t=ke(n[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Je(Ke(n,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=de()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=de()},m(r,i){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(r,i);M(r,e,i)},p(r,i){if(i&2){t=ke(r[1]);let s;for(s=0;s<t.length;s+=1){const o=Ke(r,t,s);l[s]?l[s].p(o,i):(l[s]=Je(o),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(r){r&&m(e),He(l,r)}}}function Je(n){let e,t,l=n[3]+"",r;return{c(){e=k("div"),t=new qt(!1),r=S(),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var s=y(e);t=Lt(s,!1),r=q(s),s.forEach(m),this.h()},h(){t.a=r,f(e,"class","mb-1 relative"),p(e,"font-family","'Handlee', cursive")},m(i,s){M(i,e,s),t.m(l,e),v(e,r)},p:L,d(i){i&&m(e)}}}function rl(n){let e,t,l,r,i,s;l=new Me({props:{card:n[0],correction:!0,flashcard:!!n[0].correctionDetails}});let o=n[1].length&&sl(n);return{c(){e=k("div"),t=k("div"),A(l.$$.fragment),r=S(),i=k("div"),o&&o.c(),this.h()},l(a){e=w(a,"DIV",{class:!0});var c=y(e);t=w(c,"DIV",{class:!0,style:!0});var u=y(t);O(l.$$.fragment,u),u.forEach(m),r=q(c),i=w(c,"DIV",{});var h=y(i);o&&o.l(h),h.forEach(m),c.forEach(m),this.h()},h(){f(t,"class","mr-3 mb-4 w-full"),p(t,"word-break","break-word "),p(t,"min-width","100px"),p(t,"white-space","normal"),f(e,"class","ml-3 grow flex flex-wrap ")},m(a,c){M(a,e,c),v(e,t),U(l,t,null),v(e,r),v(e,i),o&&o.m(i,null),s=!0},p(a,[c]){const u={};c&1&&(u.card=a[0]),c&1&&(u.flashcard=!!a[0].correctionDetails),l.$set(u),a[1].length&&o.p(a,c)},i(a){s||(H(l.$$.fragment,a),s=!0)},o(a){j(l.$$.fragment,a),s=!1},d(a){a&&m(e),P(l),o&&o.d()}}}function il(n,e,t){let{item:l}=e;const{simpleCorrection:r,coms:i}=l;return n.$$set=s=>{"item"in s&&t(0,l=s.item)},[l,i]}class nl extends le{constructor(e){super(),se(this,e,il,rl,x,{item:0})}}function Ze(n,e,t){const l=n.slice();l[4]=e[t];const r=l[4].status===ht?l[1]:l[4].status===dt?l[2]:l[3];return l[5]=r,l}function We(n){let e,t,l,r=n[4].num+"",i,s,o,a,c,u;return a=new nl({props:{item:n[4]}}),{c(){e=k("div"),t=k("div"),l=k("span"),i=me(r),o=S(),A(a.$$.fragment),c=S(),this.h()},l(h){e=w(h,"DIV",{class:!0});var g=y(e);t=w(g,"DIV",{class:!0,style:!0});var _=y(t);l=w(_,"SPAN",{class:!0,style:!0});var I=y(l);i=he(I,r),I.forEach(m),_.forEach(m),o=q(g),O(a.$$.fragment,g),c=q(g),g.forEach(m),this.h()},h(){f(l,"class","absolute"),p(l,"font-size","1.8em"),p(l,"display","inline-block"),p(l,"top","50%"),p(l,"left","50%"),p(l,"transform","translate(-50%, -60%)"),p(l,"margin","0"),f(t,"class","relative mr-0"),f(t,"style",s=`font-family:'pacifico';color:white;background:${n[5]}; border-radius: 50%;width:2.5em; height:2.5em`),f(e,"class","mb-5 flex w-full items-start justify-start")},m(h,g){M(h,e,g),v(e,t),v(t,l),v(l,i),v(e,o),U(a,e,null),v(e,c),u=!0},p(h,g){(!u||g&1)&&r!==(r=h[4].num+"")&&Te(i,r),(!u||g&15&&s!==(s=`font-family:'pacifico';color:white;background:${h[5]}; border-radius: 50%;width:2.5em; height:2.5em`))&&f(t,"style",s);const _={};g&1&&(_.item=h[4]),a.$set(_)},i(h){u||(H(a.$$.fragment,h),u=!0)},o(h){j(a.$$.fragment,h),u=!1},d(h){h&&m(e),P(a)}}}function al(n){let e,t,l=ke(n[0]),r=[];for(let s=0;s<l.length;s+=1)r[s]=We(Ze(n,l,s));const i=s=>j(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=de()},l(s){for(let o=0;o<r.length;o+=1)r[o].l(s);e=de()},m(s,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(s,o);M(s,e,o),t=!0},p(s,[o]){if(o&15){l=ke(s[0]);let a;for(a=0;a<l.length;a+=1){const c=Ze(s,l,a);r[a]?(r[a].p(c,o),H(r[a],1)):(r[a]=We(c),r[a].c(),H(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=l.length;a<r.length;a+=1)i(a);oe()}},i(s){if(!t){for(let o=0;o<l.length;o+=1)H(r[o]);t=!0}},o(s){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)j(r[o]);t=!1},d(s){s&&m(e),He(r,s)}}}function ol(n,e,t){let l,r,i;ie(n,gt,o=>t(1,l=o)),ie(n,vt,o=>t(2,r=o)),ie(n,bt,o=>t(3,i=o));let{items:s}=e;return n.$$set=o=>{"items"in o&&t(0,s=o.items)},[s,l,r,i]}class Se extends le{constructor(e){super(),se(this,e,ol,al,x,{items:0})}}function Ye(n,e,t){const l=n.slice();return l[18]=e[t],l}function Xe(n){let e,t=ke({length:n[6]}),l=[];for(let r=0;r<t.length;r+=1)l[r]=xe(Ye(n,t,r));return{c(){e=k("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=w(r,"DIV",{class:!0});var i=y(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(m),this.h()},h(){f(e,"class","confetti-holder svelte-io58ff"),Q(e,"rounded",n[9]),Q(e,"cone",n[10]),Q(e,"no-gravity",n[11])},m(r,i){M(r,e,i);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(r,i){if(i&20991){t=ke({length:r[6]});let s;for(s=0;s<t.length;s+=1){const o=Ye(r,t,s);l[s]?l[s].p(o,i):(l[s]=xe(o),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}i&512&&Q(e,"rounded",r[9]),i&1024&&Q(e,"cone",r[10]),i&2048&&Q(e,"no-gravity",r[11])},d(r){r&&m(e),He(l,r)}}}function xe(n){let e;return{c(){e=k("div"),this.h()},l(t){e=w(t,"DIV",{class:!0,style:!0}),y(e).forEach(m),this.h()},h(){f(e,"class","confetti svelte-io58ff"),p(e,"--fall-distance",n[8]),p(e,"--size",n[0]+"px"),p(e,"--color",n[14]()),p(e,"--skew",K(-45,45)+"deg,"+K(-45,45)+"deg"),p(e,"--rotation-xyz",K(-10,10)+", "+K(-10,10)+", "+K(-10,10)),p(e,"--rotation-deg",K(0,360)+"deg"),p(e,"--translate-y-multiplier",K(n[2][0],n[2][1])),p(e,"--translate-x-multiplier",K(n[1][0],n[1][1])),p(e,"--scale",.1*K(2,10)),p(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),p(e,"--transition-delay",K(n[5][0],n[5][1])+"ms"),p(e,"--transition-iteration-count",n[4]?"infinite":n[7]),p(e,"--x-spread",1-n[12])},m(t,l){M(t,e,l)},p(t,l){l&256&&p(e,"--fall-distance",t[8]),l&1&&p(e,"--size",t[0]+"px"),l&4&&p(e,"--translate-y-multiplier",K(t[2][0],t[2][1])),l&2&&p(e,"--translate-x-multiplier",K(t[1][0],t[1][1])),l&24&&p(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&p(e,"--transition-delay",K(t[5][0],t[5][1])+"ms"),l&144&&p(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&p(e,"--x-spread",1-t[12])},d(t){t&&m(e)}}}function fl(n){let e,t=!n[13]&&Xe(n);return{c(){t&&t.c(),e=de()},l(l){t&&t.l(l),e=de()},m(l,r){t&&t.m(l,r),M(l,e,r)},p(l,[r]){l[13]?t&&(t.d(1),t=null):t?t.p(l,r):(t=Xe(l),t.c(),t.m(e.parentNode,e))},i:L,o:L,d(l){l&&m(e),t&&t.d(l)}}}function K(n,e){return Math.random()*(e-n)+n}function cl(n,e,t){let{size:l=10}=e,{x:r=[-.5,.5]}=e,{y:i=[.25,1]}=e,{duration:s=2e3}=e,{infinite:o=!1}=e,{delay:a=[0,50]}=e,{colorRange:c=[0,360]}=e,{colorArray:u=[]}=e,{amount:h=50}=e,{iterationCount:g=1}=e,{fallDistance:_="100px"}=e,{rounded:I=!1}=e,{cone:C=!1}=e,{noGravity:d=!1}=e,{xSpread:b=.15}=e,{destroyOnComplete:E=!0}=e,V=!1;ut(()=>{!E||o||g=="infinite"||setTimeout(()=>t(13,V=!0),(s+a[1])*g)});function T(){return u.length?u[Math.round(Math.random()*(u.length-1))]:`hsl(${Math.round(K(c[0],c[1]))}, 75%, 50%`}return n.$$set=D=>{"size"in D&&t(0,l=D.size),"x"in D&&t(1,r=D.x),"y"in D&&t(2,i=D.y),"duration"in D&&t(3,s=D.duration),"infinite"in D&&t(4,o=D.infinite),"delay"in D&&t(5,a=D.delay),"colorRange"in D&&t(15,c=D.colorRange),"colorArray"in D&&t(16,u=D.colorArray),"amount"in D&&t(6,h=D.amount),"iterationCount"in D&&t(7,g=D.iterationCount),"fallDistance"in D&&t(8,_=D.fallDistance),"rounded"in D&&t(9,I=D.rounded),"cone"in D&&t(10,C=D.cone),"noGravity"in D&&t(11,d=D.noGravity),"xSpread"in D&&t(12,b=D.xSpread),"destroyOnComplete"in D&&t(17,E=D.destroyOnComplete)},[l,r,i,s,o,a,h,g,_,I,C,d,b,V,T,c,u,E]}class ul extends le{constructor(e){super(),se(this,e,cl,fl,x,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function ml(n){let e,t,l,r;return{c(){e=k("div"),t=_e("svg"),l=_e("path"),this.h()},l(i){e=w(i,"DIV",{class:!0});var s=y(e);t=ge(s,"svg",{xmlns:!0,"xml:space":!0,"xmlns:xlink":!0,version:!0,viewBox:!0,height:!0,width:!0,stroke:!0,fill:!0,"stroke-width":!0});var o=y(t);l=ge(o,"path",{d:!0}),y(l).forEach(m),o.forEach(m),s.forEach(m),this.h()},h(){f(l,"d","M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"xml:space","preserve"),f(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(t,"version","1.1"),f(t,"viewBox","0 0 24 24"),f(t,"height",n[0]),f(t,"width",n[0]),f(t,"stroke",n[1]),f(t,"fill",n[1]),f(t,"stroke-width","0.2"),f(e,"class",r="$"+n[2].class)},m(i,s){M(i,e,s),v(e,t),v(t,l)},p(i,[s]){s&1&&f(t,"height",i[0]),s&1&&f(t,"width",i[0]),s&2&&f(t,"stroke",i[1]),s&2&&f(t,"fill",i[1]),s&4&&r!==(r="$"+i[2].class)&&f(e,"class",r)},i:L,o:L,d(i){i&&m(e)}}}function hl(n,e,t){let{size:l="1.1em"}=e,{stroke:r="currentColor"}=e;return n.$$set=i=>{t(2,e=ve(ve({},e),be(i))),"size"in i&&t(0,l=i.size),"stroke"in i&&t(1,r=i.stroke)},e=be(e),[l,r,e]}class wt extends le{constructor(e){super(),se(this,e,hl,ml,x,{size:0,stroke:1})}}function dl(n){let e,t,l,r;return{c(){e=k("div"),t=_e("svg"),l=_e("path"),this.h()},l(i){e=w(i,"DIV",{class:!0});var s=y(e);t=ge(s,"svg",{xmlns:!0,"xml:space":!0,"xmlns:xlink":!0,version:!0,viewBox:!0,height:!0,width:!0,stroke:!0,fill:!0,"stroke-width":!0});var o=y(t);l=ge(o,"path",{d:!0}),y(l).forEach(m),o.forEach(m),s.forEach(m),this.h()},h(){f(l,"d","M17 22V20H20V17H22V20.5C22 20.89 21.84 21.24 21.54 21.54C21.24 21.84 20.89 22 20.5 22H17M7 22H3.5C3.11 22 2.76 21.84 2.46 21.54C2.16 21.24 2 20.89 2 20.5V17H4V20H7V22M17 2H20.5C20.89 2 21.24 2.16 21.54 2.46C21.84 2.76 22 3.11 22 3.5V7H20V4H17V2M7 2V4H4V7H2V3.5C2 3.11 2.16 2.76 2.46 2.46C2.76 2.16 3.11 2 3.5 2H7M10.5 6C13 6 15 8 15 10.5C15 11.38 14.75 12.2 14.31 12.9L17.57 16.16L16.16 17.57L12.9 14.31C12.2 14.75 11.38 15 10.5 15C8 15 6 13 6 10.5C6 8 8 6 10.5 6M10.5 8C9.12 8 8 9.12 8 10.5C8 11.88 9.12 13 10.5 13C11.88 13 13 11.88 13 10.5C13 9.12 11.88 8 10.5 8Z"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"xml:space","preserve"),f(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(t,"version","1.1"),f(t,"viewBox","0 0 24 24"),f(t,"height",n[0]),f(t,"width",n[0]),f(t,"stroke",n[1]),f(t,"fill",n[1]),f(t,"stroke-width","0.2"),f(e,"class",r="$"+n[2].class)},m(i,s){M(i,e,s),v(e,t),v(t,l)},p(i,[s]){s&1&&f(t,"height",i[0]),s&1&&f(t,"width",i[0]),s&2&&f(t,"stroke",i[1]),s&2&&f(t,"fill",i[1]),s&4&&r!==(r="$"+i[2].class)&&f(e,"class",r)},i:L,o:L,d(i){i&&m(e)}}}function _l(n,e,t){let{size:l="1.1em"}=e,{stroke:r="currentColor"}=e;return n.$$set=i=>{t(2,e=ve(ve({},e),be(i))),"size"in i&&t(0,l=i.size),"stroke"in i&&t(1,r=i.stroke)},e=be(e),[l,r,e]}class gl extends le{constructor(e){super(),se(this,e,_l,dl,x,{size:0,stroke:1})}}function $e(n){let e,t,l;return t=new ul({props:{x:[-5,5],y:[0,.1],delay:[500,2e3],infinite:!0,size:"15",duration:"5000",amount:"300",fallDistance:"100vh"}}),{c(){e=k("div"),A(t.$$.fragment),this.h()},l(r){e=w(r,"DIV",{style:!0});var i=y(e);O(t.$$.fragment,i),i.forEach(m),this.h()},h(){p(e,"position","fixed"),p(e,"top","-50px"),p(e,"left","0"),p(e,"height","100vh"),p(e,"width","100vw"),p(e,"display","flex"),p(e,"justify-content","center"),p(e,"overflow","hidden"),p(e,"pointer-events","none"),p(e,"z-index","100")},m(r,i){M(r,e,i),U(t,e,null),l=!0},i(r){l||(H(t.$$.fragment,r),l=!0)},o(r){j(t.$$.fragment,r),l=!1},d(r){r&&m(e),P(t)}}}function vl(n){let e,t,l,r;return l=new Se({props:{items:n[1]}}),{c(){e=k("div"),t=k("div"),A(l.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var s=y(e);t=w(s,"DIV",{style:!0});var o=y(t);O(l.$$.fragment,o),o.forEach(m),s.forEach(m),this.h()},h(){p(t,"width","650px"),f(e,"class","flex w-full justify-center")},m(i,s){M(i,e,s),v(e,t),U(l,t,null),r=!0},p(i,s){const o={};s&2&&(o.items=i[1]),l.$set(o)},i(i){r||(H(l.$$.fragment,i),r=!0)},o(i){j(l.$$.fragment,i),r=!1},d(i){i&&m(e),P(l)}}}function bl(n){let e,t,l,r,i,s,o;return l=new Se({props:{items:n[1].filter(tt)}}),s=new Se({props:{items:n[1].filter(lt)}}),{c(){e=k("div"),t=k("div"),A(l.$$.fragment),r=S(),i=k("div"),A(s.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0,style:!0});var c=y(e);t=w(c,"DIV",{class:!0});var u=y(t);O(l.$$.fragment,u),u.forEach(m),r=q(c),i=w(c,"DIV",{class:!0});var h=y(i);O(s.$$.fragment,h),h.forEach(m),c.forEach(m),this.h()},h(){f(t,"class","w-full"),f(i,"class","ml-12 w-full"),f(e,"class","flex w-full justify-around"),p(e,"overflow-x","auto")},m(a,c){M(a,e,c),v(e,t),U(l,t,null),v(e,r),v(e,i),U(s,i,null),o=!0},p(a,c){const u={};c&2&&(u.items=a[1].filter(tt)),l.$set(u);const h={};c&2&&(h.items=a[1].filter(lt)),s.$set(h)},i(a){o||(H(l.$$.fragment,a),H(s.$$.fragment,a),o=!0)},o(a){j(l.$$.fragment,a),j(s.$$.fragment,a),o=!1},d(a){a&&m(e),P(l),P(s)}}}function et(n){let e,t,l,r,i,s,o,a,c,u,h,g,_,I,C,d,b,E=Pe(n[8]).toString({comma:!0})+"",V,T,D,N="/ ",F,B,W,$,J,we,Ee;r=new tl({}),a=new wt({});function Y(R,G){return R[4]===1?Cl:R[4]>=.8?yl:R[4]>=.5?wl:kl}let X=Y(n),Z=X(n);return{c(){e=k("div"),t=k("div"),l=k("button"),A(r.$$.fragment),i=S(),s=k("a"),o=k("button"),A(a.$$.fragment),u=S(),h=k("div"),g=k("div"),_=me(n[6]),I=S(),C=k("div"),d=me("Score : "),b=k("span"),V=me(E),T=S(),D=k("span"),D.textContent=N,F=k("span"),B=me(n[7]),W=S(),Z.c(),this.h()},l(R){e=w(R,"DIV",{class:!0,style:!0});var G=y(e);t=w(G,"DIV",{class:!0});var fe=y(t);l=w(fe,"BUTTON",{class:!0});var Ve=y(l);O(r.$$.fragment,Ve),Ve.forEach(m),i=q(fe),s=w(fe,"A",{href:!0});var ye=y(s);o=w(ye,"BUTTON",{class:!0});var Ce=y(o);O(a.$$.fragment,Ce),Ce.forEach(m),ye.forEach(m),fe.forEach(m),u=q(G),h=w(G,"DIV",{class:!0,style:!0});var ue=y(h);g=w(ue,"DIV",{class:!0,style:!0});var pe=y(g);_=he(pe,n[6]),pe.forEach(m),I=q(ue),C=w(ue,"DIV",{class:!0});var ce=y(C);d=he(ce,"Score : "),b=w(ce,"SPAN",{style:!0});var Ie=y(b);V=he(Ie,E),Ie.forEach(m),T=q(ce),D=w(ce,"SPAN",{style:!0,"data-svelte-h":!0}),ne(D)!=="svelte-1g5bnvt"&&(D.textContent=N),F=w(ce,"SPAN",{style:!0});var re=y(F);B=he(re,n[7]),re.forEach(m),ce.forEach(m),ue.forEach(m),W=q(G),Z.l(G),G.forEach(m),this.h()},h(){f(l,"class","btn-icon my-2 bg-white text-2xl text-black"),f(o,"class","btn-icon my-2 bg-white text-2xl text-black"),f(s,"href",c=`/automaths${n[2]}`),f(t,"class","flex h-full flex-col items-center justify-around"),f(g,"class","my-2"),p(g,"font-size","2em"),p(g,"font-family","'pacifico'"),p(b,"font-size","1.5em"),p(b,"font-family","'pacifico'"),p(D,"font-size","1.5em"),p(F,"font-size","1.5em"),p(F,"font-family","'pacifico'"),f(C,"class","my-2"),f(h,"class","flex flex-col items-center"),p(h,"color","white"),f(e,"class","flex items-center justify-around  p-2"),f(e,"style",$=`background:${n[5]}`)},m(R,G){M(R,e,G),v(e,t),v(t,l),U(r,l,null),v(t,i),v(t,s),v(s,o),U(a,o,null),v(e,u),v(e,h),v(h,g),v(g,_),v(h,I),v(h,C),v(C,d),v(C,b),v(b,V),v(C,T),v(C,D),v(C,F),v(F,B),v(e,W),Z.m(e,null),J=!0,we||(Ee=te(l,"click",n[13]),we=!0)},p(R,G){(!J||G&4&&c!==(c=`/automaths${R[2]}`))&&f(s,"href",c),(!J||G&64)&&Te(_,R[6]),(!J||G&256)&&E!==(E=Pe(R[8]).toString({comma:!0})+"")&&Te(V,E),(!J||G&128)&&Te(B,R[7]),X!==(X=Y(R))&&(Z.d(1),Z=X(R),Z&&(Z.c(),Z.m(e,null))),(!J||G&32&&$!==($=`background:${R[5]}`))&&f(e,"style",$)},i(R){J||(H(r.$$.fragment,R),H(a.$$.fragment,R),J=!0)},o(R){j(r.$$.fragment,R),j(a.$$.fragment,R),J=!1},d(R){R&&m(e),P(r),P(a),Z.d(),we=!1,Ee()}}}function kl(n){let e,t;return{c(){e=k("img"),this.h()},l(l){e=w(l,"IMG",{alt:!0,src:!0}),this.h()},h(){f(e,"alt","Try again!"),Be(e.src,t="/images/try-again-150.png")||f(e,"src",t)},m(l,r){M(l,e,r)},d(l){l&&m(e)}}}function wl(n){let e,t;return{c(){e=k("img"),this.h()},l(l){e=w(l,"IMG",{alt:!0,src:!0}),this.h()},h(){f(e,"alt","Keep on!"),Be(e.src,t="/images/keep-on-150.png")||f(e,"src",t)},m(l,r){M(l,e,r)},d(l){l&&m(e)}}}function yl(n){let e,t;return{c(){e=k("img"),this.h()},l(l){e=w(l,"IMG",{alt:!0,src:!0}),this.h()},h(){f(e,"alt","Good job!"),Be(e.src,t="/images/good-job-150.png")||f(e,"src",t)},m(l,r){M(l,e,r)},d(l){l&&m(e)}}}function Cl(n){let e,t;return{c(){e=k("img"),this.h()},l(l){e=w(l,"IMG",{alt:!0,src:!0}),this.h()},h(){f(e,"alt","Great!"),Be(e.src,t="/images/great-150.png")||f(e,"src",t)},m(l,r){M(l,e,r)},d(l){l&&m(e)}}}function El(n){let e,t,l,r,i,s,o,a,c,u,h,g,_=n[8]===n[7]&&$e();i=new gl({});const I=[bl,vl],C=[];function d(E,V){return E[3]?0:1}o=d(n),a=C[o]=I[o](n);let b=!n[3]&&et(n);return{c(){e=k("div"),_&&_.c(),t=S(),l=k("div"),r=k("button"),A(i.$$.fragment),s=S(),a.c(),c=S(),b&&b.c(),this.h()},l(E){e=w(E,"DIV",{});var V=y(e);_&&_.l(V),t=q(V),l=w(V,"DIV",{class:!0});var T=y(l);r=w(T,"BUTTON",{class:!0});var D=y(r);O(i.$$.fragment,D),D.forEach(m),T.forEach(m),s=q(V),a.l(V),c=q(V),b&&b.l(V),V.forEach(m),this.h()},h(){f(r,"class","btn-icon variant-filled-primary"),f(l,"class","my-3 flex justify-end")},m(E,V){M(E,e,V),_&&_.m(e,null),v(e,t),v(e,l),v(l,r),U(i,r,null),v(e,s),C[o].m(e,null),v(e,c),b&&b.m(e,null),u=!0,h||(g=te(r,"click",n[9]),h=!0)},p(E,[V]){E[8]===E[7]?_?V&384&&H(_,1):(_=$e(),_.c(),H(_,1),_.m(e,t)):_&&(ae(),j(_,1,1,()=>{_=null}),oe());let T=o;o=d(E),o===T?C[o].p(E,V):(ae(),j(C[T],1,1,()=>{C[T]=null}),oe(),a=C[o],a?a.p(E,V):(a=C[o]=I[o](E),a.c()),H(a,1),a.m(e,c)),E[3]?b&&(ae(),j(b,1,1,()=>{b=null}),oe()):b?(b.p(E,V),V&8&&H(b,1)):(b=et(E),b.c(),H(b,1),b.m(e,null))},i(E){u||(H(_),H(i.$$.fragment,E),H(a),H(b),u=!0)},o(E){j(_),j(i.$$.fragment,E),j(a),j(b),u=!1},d(E){E&&m(e),_&&_.d(),P(i),C[o].d(),b&&b.d(),h=!1,g()}}}const tt=(n,e)=>e%2===0,lt=(n,e)=>e%2===1;function Vl(n,e,t){let l,r,i;ie(n,bt,B=>t(16,l=B)),ie(n,vt,B=>t(17,r=B)),ie(n,gt,B=>t(18,i=B));let{items:s}=e,{assignmentId:o}=e,{training:a}=e,{restart:c}=e,{query:u}=e,{classroom:h=!1}=e,{db:g}=e;const _=kt(),{info:I,fail:C}=_t("Correction","info");let d,b=!1;const E=()=>b=!b;let V,T,D=0,N=0;s.forEach(B=>{t(7,D+=B.points),t(8,N+=B.status==ht?B.points:B.status==dt?B.points/2:0)}),o&&!a&&g.from("assignments").update({mark:N,questions:JSON.stringify(s),status:"done"}).eq("id",o).then(B=>{B.error&&(C(B.error),_.trigger({message:"Erreur lors de la sauvegarde des résultats",background:"bg-red-500"}))}),ut(async()=>{h||(t(4,d=N/D),d===1?(t(5,V=i),t(6,T="Perfect !")):d>=.8?(t(5,V=i),t(6,T="Good Job !")):d>=.5?(t(5,V=r),t(6,T="Keep on !")):(t(5,V=l),t(6,T="Try again !")))});const F=()=>t(0,c=!0);return n.$$set=B=>{"items"in B&&t(1,s=B.items),"assignmentId"in B&&t(10,o=B.assignmentId),"training"in B&&t(11,a=B.training),"restart"in B&&t(0,c=B.restart),"query"in B&&t(2,u=B.query),"classroom"in B&&t(3,h=B.classroom),"db"in B&&t(12,g=B.db)},[c,s,u,h,d,V,T,D,N,E,o,a,g,F]}class pl extends le{constructor(e){super(),se(this,e,Vl,El,x,{items:1,assignmentId:10,training:11,restart:0,query:2,classroom:3,db:12})}}function Il(n){let e,t,l,r,i,s=" ",o,a,c,u=" ",h,g,_,I=" ",C,d,b,E=" ";return{c(){e=k("div"),t=k("div"),l=k("div"),r=k("div"),i=k("div"),i.textContent=s,o=S(),a=k("div"),c=k("div"),c.textContent=u,h=S(),g=k("div"),_=k("div"),_.textContent=I,C=S(),d=k("div"),b=k("div"),b.textContent=E,this.h()},l(V){e=w(V,"DIV",{class:!0,style:!0});var T=y(e);t=w(T,"DIV",{class:!0});var D=y(t);l=w(D,"DIV",{class:!0});var N=y(l);r=w(N,"DIV",{class:!0});var F=y(r);i=w(F,"DIV",{class:!0,"data-svelte-h":!0}),ne(i)!=="svelte-srzctx"&&(i.textContent=s),F.forEach(m),o=q(N),a=w(N,"DIV",{class:!0});var B=y(a);c=w(B,"DIV",{class:!0,"data-svelte-h":!0}),ne(c)!=="svelte-6iyjws"&&(c.textContent=u),B.forEach(m),h=q(N),g=w(N,"DIV",{class:!0});var W=y(g);_=w(W,"DIV",{class:!0,"data-svelte-h":!0}),ne(_)!=="svelte-9h2qed"&&(_.textContent=I),W.forEach(m),C=q(N),d=w(N,"DIV",{class:!0});var $=y(d);b=w($,"DIV",{class:!0,"data-svelte-h":!0}),ne(b)!=="svelte-yk0z5u"&&(b.textContent=E),$.forEach(m),N.forEach(m),D.forEach(m),T.forEach(m),this.h()},h(){f(i,"class","ball ball-top-left svelte-7wj78d"),Q(i,"pause-animation",n[2]),f(r,"class","single-ball svelte-7wj78d"),f(c,"class","ball ball-top-right svelte-7wj78d"),Q(c,"pause-animation",n[2]),f(a,"class","contener_mixte"),f(_,"class","ball ball-bottom-left svelte-7wj78d"),Q(_,"pause-animation",n[2]),f(g,"class","contener_mixte"),f(b,"class","ball ball-bottom-right svelte-7wj78d"),Q(b,"pause-animation",n[2]),f(d,"class","contener_mixte"),f(l,"class","ball-container svelte-7wj78d"),Q(l,"pause-animation",n[2]),f(t,"class","inner svelte-7wj78d"),f(e,"class","wrapper svelte-7wj78d"),p(e,"--size",n[0]+n[1]),p(e,"--floatSize",n[0]),p(e,"--ballTopLeftColor",n[3]),p(e,"--ballTopRightColor",n[4]),p(e,"--ballBottomLeftColor",n[5]),p(e,"--ballBottomRightColor",n[6]),p(e,"--duration",n[7])},m(V,T){M(V,e,T),v(e,t),v(t,l),v(l,r),v(r,i),v(l,o),v(l,a),v(a,c),v(l,h),v(l,g),v(g,_),v(l,C),v(l,d),v(d,b)},p(V,[T]){T&4&&Q(i,"pause-animation",V[2]),T&4&&Q(c,"pause-animation",V[2]),T&4&&Q(_,"pause-animation",V[2]),T&4&&Q(b,"pause-animation",V[2]),T&4&&Q(l,"pause-animation",V[2]),T&3&&p(e,"--size",V[0]+V[1]),T&1&&p(e,"--floatSize",V[0]),T&8&&p(e,"--ballTopLeftColor",V[3]),T&16&&p(e,"--ballTopRightColor",V[4]),T&32&&p(e,"--ballBottomLeftColor",V[5]),T&64&&p(e,"--ballBottomRightColor",V[6]),T&128&&p(e,"--duration",V[7])},i:L,o:L,d(V){V&&m(e)}}}function Dl(n,e,t){let{size:l="60"}=e,{unit:r="px"}=e,{pause:i=!1}=e,{ballTopLeft:s="#FF3E00"}=e,{ballTopRight:o="#F8B334"}=e,{ballBottomLeft:a="#40B3FF"}=e,{ballBottomRight:c="#676778"}=e,{duration:u="1.5s"}=e;return n.$$set=h=>{"size"in h&&t(0,l=h.size),"unit"in h&&t(1,r=h.unit),"pause"in h&&t(2,i=h.pause),"ballTopLeft"in h&&t(3,s=h.ballTopLeft),"ballTopRight"in h&&t(4,o=h.ballTopRight),"ballBottomLeft"in h&&t(5,a=h.ballBottomLeft),"ballBottomRight"in h&&t(6,c=h.ballBottomRight),"duration"in h&&t(7,u=h.duration)},[l,r,i,s,o,a,c,u]}class Tl extends le{constructor(e){super(),se(this,e,Dl,Il,x,{size:0,unit:1,pause:2,ballTopLeft:3,ballTopRight:4,ballBottomLeft:5,ballBottomRight:6,duration:7})}}function zl(n){let e,t;return e=new Tl({props:{size:"60",unit:"px",ballTopLeft:"#FF3E00",ballTopRight:"#F8B334",ballBottomLeft:"#40B3FF",ballBottomRight:"#676778"}}),{c(){A(e.$$.fragment)},l(l){O(e.$$.fragment,l)},m(l,r){U(e,l,r),t=!0},p:L,i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){P(e,l)}}}class Hl extends le{constructor(e){super(),se(this,e,null,zl,x,{})}}function Bl(n){let e,t,l,r;return{c(){e=k("div"),t=_e("svg"),l=_e("path"),this.h()},l(i){e=w(i,"DIV",{class:!0});var s=y(e);t=ge(s,"svg",{xmlns:!0,"xml:space":!0,"xmlns:xlink":!0,version:!0,viewBox:!0,height:!0,width:!0,stroke:!0,fill:!0,"stroke-width":!0});var o=y(t);l=ge(o,"path",{d:!0}),y(l).forEach(m),o.forEach(m),s.forEach(m),this.h()},h(){f(l,"d",`M12,4C14.1,4 16.1,4.8 17.6,6.3C20.7,9.4 20.7,14.5
		17.6,17.6C15.8,19.5 13.3,20.2 10.9,19.9L11.4,17.9C13.1,18.1 14.9,17.5
		16.2,16.2C18.5,13.9 18.5,10.1 16.2,7.7C15.1,6.6 13.5,6
		12,6V10.6L7,5.6L12,0.6V4M6.3,17.6C3.7,15 3.3,11 5.1,7.9L6.6,9.4C5.5,11.6
		5.9,14.4 7.8,16.2C8.3,16.7 8.9,17.1 9.6,17.4L9,19.4C8,19 7.1,18.4 6.3,17.6Z`),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"xml:space","preserve"),f(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(t,"version","1.1"),f(t,"viewBox","0 0 24 24"),f(t,"height",n[0]),f(t,"width",n[0]),f(t,"stroke",n[1]),f(t,"fill",n[1]),f(t,"stroke-width","0.2"),f(e,"class",r="$"+n[2].class)},m(i,s){M(i,e,s),v(e,t),v(t,l)},p(i,[s]){s&1&&f(t,"height",i[0]),s&1&&f(t,"width",i[0]),s&2&&f(t,"stroke",i[1]),s&2&&f(t,"fill",i[1]),s&4&&r!==(r="$"+i[2].class)&&f(e,"class",r)},i:L,o:L,d(i){i&&m(e)}}}function Ml(n,e,t){let{size:l="1.1em"}=e,{stroke:r="currentColor"}=e;return n.$$set=i=>{t(2,e=ve(ve({},e),be(i))),"size"in i&&t(0,l=i.size),"stroke"in i&&t(1,r=i.stroke)},e=be(e),[l,r,e]}class jl extends le{constructor(e){super(),se(this,e,Ml,Bl,x,{size:0,stroke:1})}}function Rl(n){let e,t,l,r;return{c(){e=k("div"),t=_e("svg"),l=_e("path"),this.h()},l(i){e=w(i,"DIV",{class:!0});var s=y(e);t=ge(s,"svg",{xmlns:!0,"xml:space":!0,"xmlns:xlink":!0,version:!0,viewBox:!0,height:!0,width:!0,stroke:!0,fill:!0,"stroke-width":!0});var o=y(t);l=ge(o,"path",{d:!0}),y(l).forEach(m),o.forEach(m),s.forEach(m),this.h()},h(){f(l,"d","M19,10H17V8H19M19,13H17V11H19M16,10H14V8H16M16,13H14V11H16M16,17H8V15H16M7,10H5V8H7M7,13H5V11H7M8,11H10V13H8M8,8H10V10H8M11,11H13V13H11M11,8H13V10H11M20,5H4C2.89,5 2,5.89 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7C22,5.89 21.1,5 20,5Z"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"xml:space","preserve"),f(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(t,"version","1.1"),f(t,"viewBox","0 0 24 24"),f(t,"height",n[0]),f(t,"width",n[0]),f(t,"stroke",n[1]),f(t,"fill",n[1]),f(t,"stroke-width","0.2"),f(e,"class",r="$"+n[2].class)},m(i,s){M(i,e,s),v(e,t),v(t,l)},p(i,[s]){s&1&&f(t,"height",i[0]),s&1&&f(t,"width",i[0]),s&2&&f(t,"stroke",i[1]),s&2&&f(t,"fill",i[1]),s&4&&r!==(r="$"+i[2].class)&&f(e,"class",r)},i:L,o:L,d(i){i&&m(e)}}}function Sl(n,e,t){let{size:l="1.1em"}=e,{stroke:r="currentColor"}=e;return n.$$set=i=>{t(2,e=ve(ve({},e),be(i))),"size"in i&&t(0,l=i.size),"stroke"in i&&t(1,r=i.stroke)},e=be(e),[l,r,e]}class ql extends le{constructor(e){super(),se(this,e,Sl,Rl,x,{size:0,stroke:1})}}function st(n,e,t){const l=n.slice();return l[23]=e[t],l}function Ll(n){let e;return{c(){e=me("Pas de questions")},l(t){e=he(t,"Pas de questions")},m(t,l){M(t,e,l)},p:L,i:L,o:L,d(t){t&&m(e)}}}function Nl(n){let e,t,l,r=n[23],i,s,o,a,c,u,h,g,_=!n[9]&&rt(n),I=at(n);return c=new wt({}),{c(){e=k("div"),_&&_.c(),t=S(),l=k("div"),I.c(),i=S(),s=k("div"),o=k("a"),a=k("button"),A(c.$$.fragment),this.h()},l(C){e=w(C,"DIV",{style:!0});var d=y(e);_&&_.l(d),t=q(d),l=w(d,"DIV",{id:!0,class:!0});var b=y(l);I.l(b),b.forEach(m),i=q(d),s=w(d,"DIV",{});var E=y(s);o=w(E,"A",{href:!0});var V=y(o);a=w(V,"BUTTON",{class:!0});var T=y(a);O(c.$$.fragment,T),T.forEach(m),V.forEach(m),E.forEach(m),d.forEach(m),this.h()},h(){f(l,"id","cards-container"),f(l,"class","m-auto svelte-1yvjpbm"),f(a,"class","btn-icon variant-filled-primary"),f(o,"href",u=`/automaths${n[20]}`),f(e,"style",h=n[8]?`font-size: ${De};`:"")},m(C,d){M(C,e,d),_&&_.m(e,null),v(e,t),v(e,l),I.m(l,null),v(e,i),v(e,s),v(s,o),v(o,a),U(c,a,null),g=!0},p(C,d){C[9]?_&&(ae(),j(_,1,1,()=>{_=null}),oe()):_?(_.p(C,d),d[0]&512&&H(_,1)):(_=rt(C),_.c(),H(_,1),_.m(e,t)),d[0]&8388608&&x(r,r=C[23])?(ae(),j(I,1,1,L),oe(),I=at(C),I.c(),H(I,1),I.m(l,null)):I.p(C,d),(!g||d[0]&1048576&&u!==(u=`/automaths${C[20]}`))&&f(o,"href",u),(!g||d[0]&256&&h!==(h=C[8]?`font-size: ${De};`:""))&&f(e,"style",h)},i(C){g||(H(_),H(I),H(c.$$.fragment,C),g=!0)},o(C){j(_),j(I),j(c.$$.fragment,C),g=!1},d(C){C&&m(e),_&&_.d(),I.d(C),P(c)}}}function Al(n){let e,t,l,r,i,s,o,a="Valider",c,u,h,g=n[19]&&ot(n),_=ke(n[14]),I=[];for(let d=0;d<_.length;d+=1)I[d]=ft(st(n,_,d));const C=d=>j(I[d],1,1,()=>{I[d]=null});return{c(){e=me(`Course aux nombres
		`),g&&g.c(),t=S(),l=k("div"),r=k("div");for(let d=0;d<I.length;d+=1)I[d].c();i=S(),s=k("div"),o=k("button"),o.textContent=a,this.h()},l(d){e=he(d,`Course aux nombres
		`),g&&g.l(d),t=q(d),l=w(d,"DIV",{class:!0});var b=y(l);r=w(b,"DIV",{id:!0,style:!0,class:!0});var E=y(r);for(let T=0;T<I.length;T+=1)I[T].l(E);E.forEach(m),b.forEach(m),i=q(d),s=w(d,"DIV",{class:!0});var V=y(s);o=w(V,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-cmwneq"&&(o.textContent=a),V.forEach(m),this.h()},h(){f(r,"id","cards-container"),f(r,"style","width:600px"),f(r,"class","svelte-1yvjpbm"),f(l,"class","flex justify-center"),f(o,"class","variant-filled-primary"),f(s,"class","flex items-center justify-center")},m(d,b){M(d,e,b),g&&g.m(d,b),M(d,t,b),M(d,l,b),v(l,r);for(let E=0;E<I.length;E+=1)I[E]&&I[E].m(r,null);M(d,i,b),M(d,s,b),v(s,o),c=!0,u||(h=te(o,"click",n[34]),u=!0)},p(d,b){if(d[19]?g?g.p(d,b):(g=ot(d),g.c(),g.m(t.parentNode,t)):g&&(g.d(1),g=null),b[0]&50348032){_=ke(d[14]);let E;for(E=0;E<_.length;E+=1){const V=st(d,_,E);I[E]?(I[E].p(V,b),H(I[E],1)):(I[E]=ft(V),I[E].c(),H(I[E],1),I[E].m(r,null))}for(ae(),E=_.length;E<I.length;E+=1)C(E);oe()}},i(d){if(!c){for(let b=0;b<_.length;b+=1)H(I[b]);c=!0}},o(d){I=I.filter(Boolean);for(let b=0;b<I.length;b+=1)j(I[b]);c=!1},d(d){d&&(m(e),m(t),m(l),m(i),m(s)),g&&g.d(d),He(I,d),u=!1,h()}}}function Ol(n){let e,t,l="Let's go !",r,i;return{c(){e=k("div"),t=k("button"),t.textContent=l,this.h()},l(s){e=w(s,"DIV",{class:!0});var o=y(e);t=w(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-1ig5cyx"&&(t.textContent=l),o.forEach(m),this.h()},h(){f(t,"class","variant-filled-primary p-4 text-xl"),f(e,"class","flex h-full items-center justify-center")},m(s,o){M(s,e,o),v(e,t),r||(i=te(t,"click",n[32]),r=!0)},p:L,i:L,o:L,d(s){s&&m(e),r=!1,i()}}}function Ul(n){let e,t,l,r;const i=[Ql,Gl],s=[];function o(a,c){return a[12]?0:1}return e=o(n),t=s[e]=i[e](n),{c(){t.c(),l=de()},l(a){t.l(a),l=de()},m(a,c){s[e].m(a,c),M(a,l,c),r=!0},p(a,c){let u=e;e=o(a),e===u?s[e].p(a,c):(ae(),j(s[u],1,1,()=>{s[u]=null}),oe(),t=s[e],t?t.p(a,c):(t=s[e]=i[e](a),t.c()),H(t,1),t.m(l.parentNode,l))},i(a){r||(H(t),r=!0)},o(a){j(t),r=!1},d(a){a&&m(l),s[e].d(a)}}}function Pl(n){let e,t,l,r,i,s,o,a,c,u,h,g,_,I;return l=new Me({props:{card:n[15],flashcard:!0}}),o=new jl({}),u=new ll({}),{c(){e=k("div"),t=k("div"),A(l.$$.fragment),r=S(),i=k("div"),s=k("button"),A(o.$$.fragment),a=S(),c=k("button"),A(u.$$.fragment),this.h()},l(C){e=w(C,"DIV",{class:!0,style:!0});var d=y(e);t=w(d,"DIV",{style:!0});var b=y(t);O(l.$$.fragment,b),b.forEach(m),r=q(d),i=w(d,"DIV",{class:!0});var E=y(i);s=w(E,"BUTTON",{class:!0});var V=y(s);O(o.$$.fragment,V),V.forEach(m),a=q(E),c=w(E,"BUTTON",{class:!0});var T=y(c);O(u.$$.fragment,T),T.forEach(m),E.forEach(m),d.forEach(m),this.h()},h(){p(t,"width","900px"),f(s,"class",ct+" variant-filled-primary mx-2"),f(c,"class",ct+" variant-filled-primary mx-2"),f(i,"class","mt-4"),f(e,"class","flex h-full flex-col items-center justify-center"),f(e,"style",h=n[8]?`font-size:${De};`:"")},m(C,d){M(C,e,d),v(e,t),U(l,t,null),v(e,r),v(e,i),v(i,s),U(o,s,null),v(i,a),v(i,c),U(u,c,null),g=!0,_||(I=[te(s,"click",n[27]),te(c,"click",n[28])],_=!0)},p(C,d){const b={};d[0]&32768&&(b.card=C[15]),l.$set(b),(!g||d[0]&256&&h!==(h=C[8]?`font-size:${De};`:""))&&f(e,"style",h)},i(C){g||(H(l.$$.fragment,C),H(o.$$.fragment,C),H(u.$$.fragment,C),g=!0)},o(C){j(l.$$.fragment,C),j(o.$$.fragment,C),j(u.$$.fragment,C),g=!1},d(C){C&&m(e),P(l),P(o),P(u),_=!1,mt(I)}}}function Fl(n){let e,t,l;return t=new Hl({}),{c(){e=k("div"),A(t.$$.fragment),this.h()},l(r){e=w(r,"DIV",{class:!0});var i=y(e);O(t.$$.fragment,i),i.forEach(m),this.h()},h(){f(e,"class","flex h-full items-center justify-center")},m(r,i){M(r,e,i),U(t,e,null),l=!0},p:L,i(r){l||(H(t.$$.fragment,r),l=!0)},o(r){j(t.$$.fragment,r),l=!1},d(r){r&&m(e),P(t)}}}function rt(n){let e,t,l,r,i,s,o,a=n[8]&&it(n),c=!n[8]&&!n[2]&&n[23].type!=="choice"&&n[23].type!=="choices"&&nt(n);return s=new Xt({props:{number:n[3]+1,percentage:n[5],pulse:n[13]}}),{c(){e=k("div"),a&&a.c(),t=S(),c&&c.c(),l=S(),r=k("div"),i=S(),A(s.$$.fragment),this.h()},l(u){e=w(u,"DIV",{class:!0});var h=y(e);a&&a.l(h),t=q(h),c&&c.l(h),l=q(h),r=w(h,"DIV",{class:!0}),y(r).forEach(m),i=q(h),O(s.$$.fragment,h),h.forEach(m),this.h()},h(){f(r,"class","flex grow"),f(e,"class"," my-1 flex items-center justify-start")},m(u,h){M(u,e,h),a&&a.m(e,null),v(e,t),c&&c.m(e,null),v(e,l),v(e,r),v(e,i),U(s,e,null),o=!0},p(u,h){u[8]?a?a.p(u,h):(a=it(u),a.c(),a.m(e,t)):a&&(a.d(1),a=null),!u[8]&&!u[2]&&u[23].type!=="choice"&&u[23].type!=="choices"?c?(c.p(u,h),h[0]&8388868&&H(c,1)):(c=nt(u),c.c(),H(c,1),c.m(e,l)):c&&(ae(),j(c,1,1,()=>{c=null}),oe());const g={};h[0]&8&&(g.number=u[3]+1),h[0]&32&&(g.percentage=u[5]),h[0]&8192&&(g.pulse=u[13]),s.$set(g)},i(u){o||(H(c),H(s.$$.fragment,u),o=!0)},o(u){j(c),j(s.$$.fragment,u),o=!1},d(u){u&&m(e),a&&a.d(),c&&c.d(),P(s)}}}function it(n){let e,t,l="-5s",r,i,s="+5s",o,a;return{c(){e=k("div"),t=k("button"),t.textContent=l,r=S(),i=k("button"),i.textContent=s,this.h()},l(c){e=w(c,"DIV",{class:!0});var u=y(e);t=w(u,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-2y2yn2"&&(t.textContent=l),r=q(u),i=w(u,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(i)!=="svelte-cuvycs"&&(i.textContent=s),u.forEach(m),this.h()},h(){f(t,"class","btn-icon variant-filled-tertiary mx-2"),f(i,"class","btn-icon variant-filled-tertiary mx-2"),f(e,"class","flex")},m(c,u){M(c,e,u),v(e,t),v(e,r),v(e,i),o||(a=[te(t,"click",n[35]),te(i,"click",n[36])],o=!0)},p:L,d(c){c&&m(e),o=!1,mt(a)}}}function nt(n){let e,t,l,r,i,s;return t=new ql({}),{c(){e=k("button"),A(t.$$.fragment),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var a=y(e);O(t.$$.fragment,a),a.forEach(m),this.h()},h(){f(e,"class",l="btn-icon "+(n[22]?"variant-filled-primary":"variant-filled-tertiary"))},m(o,a){M(o,e,a),U(t,e,null),r=!0,i||(s=te(e,"click",n[37]),i=!0)},p(o,a){(!r||a[0]&4194304&&l!==(l="btn-icon "+(o[22]?"variant-filled-primary":"variant-filled-tertiary")))&&f(e,"class",l)},i(o){r||(H(t.$$.fragment,o),r=!0)},o(o){j(t.$$.fragment,o),r=!1},d(o){o&&m(e),P(t),i=!1,s()}}}function at(n){let e,t,l,r,i;return t=new Me({props:{class:n[8]?"max-w-3xl":"max-w-xl",card:n[23],interactive:!n[8]&&!n[9],commit:n[24],immediateCommit:!0,flashcard:n[9]}}),{c(){e=k("div"),A(t.$$.fragment),this.h()},l(s){e=w(s,"DIV",{class:!0});var o=y(e);O(t.$$.fragment,o),o.forEach(m),this.h()},h(){f(e,"class","flex justify-center svelte-1yvjpbm")},m(s,o){M(s,e,o),U(t,e,null),i=!0},p(s,o){const a={};o[0]&256&&(a.class=s[8]?"max-w-3xl":"max-w-xl"),o[0]&8388608&&(a.card=s[23]),o[0]&768&&(a.interactive=!s[8]&&!s[9]),o[0]&512&&(a.flashcard=s[9]),t.$set(a)},i(s){i||(H(t.$$.fragment,s),s&&Ot(()=>{i&&(r&&r.end(1),l=Ft(e,Qe,{x:500,duration:500,delay:200}),l.start())}),i=!0)},o(s){j(t.$$.fragment,s),l&&l.invalidate(),s&&(r=Gt(e,Qe,{x:-500,duration:500})),i=!1},d(s){s&&m(e),P(t),s&&r&&r.end()}}}function ot(n){let e=`${n[19].minutes}:${n[19].seconds<10?"0":""}${n[19].seconds}`,t;return{c(){t=me(e)},l(l){t=he(l,e)},m(l,r){M(l,t,r)},p(l,r){r[0]&524288&&e!==(e=`${l[19].minutes}:${l[19].seconds<10?"0":""}${l[19].seconds}`)&&Te(t,e)},d(l){l&&m(t)}}}function ft(n){let e,t,l,r,i;return l=new Me({props:{card:n[23],interactive:!0,commit:n[33]()}}),{c(){e=k("div"),t=k("div"),A(l.$$.fragment),r=S(),this.h()},l(s){e=w(s,"DIV",{class:!0});var o=y(e);t=w(o,"DIV",{class:!0});var a=y(t);O(l.$$.fragment,a),a.forEach(m),r=q(o),o.forEach(m),this.h()},h(){f(t,"class","rounded-lg p-2"),f(e,"class","card svelte-1yvjpbm")},m(s,o){M(s,e,o),v(e,t),U(l,t,null),v(e,r),i=!0},p(s,o){const a={};o[0]&16384&&(a.card=s[23]),l.$set(a)},i(s){i||(H(l.$$.fragment,s),i=!0)},o(s){j(l.$$.fragment,s),i=!1},d(s){s&&m(e),P(l)}}}function Gl(n){let e,t,l="Afficher la correction",r,i;return{c(){e=k("div"),t=k("button"),t.textContent=l,this.h()},l(s){e=w(s,"DIV",{class:!0});var o=y(e);t=w(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-3e11dx"&&(t.textContent=l),o.forEach(m),this.h()},h(){f(t,"class","variant-filled-primary p-4 text-xl"),f(e,"class","flex h-full items-center justify-center")},m(s,o){M(s,e,o),v(e,t),r||(i=te(t,"click",n[31]),r=!0)},p:L,i:L,o:L,d(s){s&&m(e),r=!1,i()}}}function Ql(n){let e,t,l,r,i;function s(a){n[30](a)}let o={items:n[14].map(Ue),query:n[20],classroom:n[8],assignmentId:n[17],db:n[0].supabase,training:n[18]};return n[1]!==void 0&&(o.restart=n[1]),t=new pl({props:o}),Ut.push(()=>Qt(t,"restart",s)),{c(){e=k("div"),A(t.$$.fragment),this.h()},l(a){e=w(a,"DIV",{style:!0});var c=y(e);O(t.$$.fragment,c),c.forEach(m),this.h()},h(){f(e,"style",r=n[8]?`font-size: ${De};`:"")},m(a,c){M(a,e,c),U(t,e,null),i=!0},p(a,c){const u={};c[0]&16384&&(u.items=a[14].map(Ue)),c[0]&1048576&&(u.query=a[20]),c[0]&256&&(u.classroom=a[8]),c[0]&131072&&(u.assignmentId=a[17]),c[0]&1&&(u.db=a[0].supabase),c[0]&262144&&(u.training=a[18]),!l&&c[0]&2&&(l=!0,u.restart=a[1],Pt(()=>l=!1)),t.$set(u),(!i||c[0]&256&&r!==(r=a[8]?`font-size: ${De};`:""))&&f(e,"style",r)},i(a){i||(H(t.$$.fragment,a),i=!0)},o(a){j(t.$$.fragment,a),i=!1},d(a){a&&m(e),P(t)}}}function Kl(n){let e,t,l,r,i,s;const o=[Fl,Pl,Ul,Ol,Al,Nl,Ll],a=[];function c(u,h){return u[21]?u[11]?1:u[7]?2:u[16]?u[10]?4:u[23]?5:6:3:0}return t=c(n),l=a[t]=o[t](n),{c(){e=k("div"),l.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var h=y(e);l.l(h),h.forEach(m),this.h()},h(){f(e,"class","container mx-auto h-full px-2")},m(u,h){M(u,e,h),a[t].m(e,null),r=!0,i||(s=te(window,"keydown",n[29]),i=!0)},p(u,h){let g=t;t=c(u),t===g?a[t].p(u,h):(ae(),j(a[g],1,1,()=>{a[g]=null}),oe(),l=a[t],l?l.p(u,h):(l=a[t]=o[t](u),l.c()),H(l,1),l.m(e,null))},i(u){r||(H(l),r=!0)},o(u){j(l),r=!1},d(u){u&&m(e),a[t].d(),i=!1,s()}}}const De="2em",ct="btn aspect-square  rounded-full";function Jl(n,e,t){let l,r,i,s;ie(n,xt,z=>t(48,l=z)),ie(n,$t,z=>t(2,r=z)),ie(n,el,z=>t(21,i=z)),ie(n,Re,z=>t(22,s=z));let{data:o}=e;const a=kt();let{info:c,fail:u,trace:h}=_t("Assessment","trace"),g,_,I,C,d,b=!1,E,V,T,D,N=!1,F=!1,B=!1,W=!1,$=!1,J=!1,we=!1,Ee=!1,Y,X,Z,R,G=!1,fe,Ve=!0;const ye={},Ce={exec(){this.hook&&this.hook(),W||ze()}};let ue=[],pe,ce;Nt("test-params",ye),At(()=>{d&&d.stop()}),qe();function Ie(z){t(4,_=z),d&&d.changeDelay(_)}function re(z){const ee=l.url.searchParams.get(z);return ee===null?null:JSON.parse(decodeURI(ee))}function yt(z){t(13,Ee=z<=5),I++,t(19,pe=Fe(z*1e3))}function Ct(z){t(5,C=z/1e3*100/_)}async function qe(){if(c("init test"),t(3,g=-1),t(1,N=!1),t(7,b=!1),t(16,G=!1),t(14,Y=[]),t(8,F=re("classroom")===!0),t(9,B=re("flash")===!0),t(10,W=re("courseAuxNombres")===!0),t(17,fe=re("assessment")&&parseInt(re("assessment"))),console.log("assignmentId",fe),t(18,Ve=re("training")===!0),console.log("training",Ve),ye.courseAuxNombres=W,ye.classroom=F,ye.flash=B,R=re("questions"),!R){const{data:z,error:ee}=await o.supabase.from("assignments").select("basket").eq("id",fe).maybeSingle();ee?(u("error while fetching assignment",ee),a.trigger({message:"Une erreur est survenue lors de la récupération de l'évaluation",background:"bg-error-500"})):z?(R=JSON.parse(z.basket),console.log("basket",R)):(u("no data while fetching assignment"),a.trigger({message:"Une erreur est survenue lors de la récupération de l'évaluation",background:"bg-error-500"}))}t(12,we=!F),R||(R=[]),Kt(R,Y),R||(R=[]),R.length===1&&({theme:T,domain:V,subdomain:E,level:D}=Oe[R[0].id],t(20,ce=encodeURI(`?theme=${T}&domain=${V}&subdomain=${E}&level=${D}`))),Yt(Y),Y.forEach((z,ee)=>{z.num=ee+1}),F&&R.length===1&&(t(11,J=!0),Le()),c("Begining test with questions :",Y),B&&je()}function Le(){const{theme:z,domain:ee,subdomain:Rt,level:St}=Oe[R[0].id],Ne=Jt(z,ee,Rt,St);console.log("getQuestion",Ne);const Ae=Zt(Ne);console.log("generatedExemple",Ae),t(15,Z=Wt(Ae)),console.log("generatedExemple",Z)}function je(){if(t(11,J=!1),t(16,G=!0),W){const z=ee=>{t(19,pe=Fe(ee))};t(6,d=Ge({delay:7*60,tick:z,timeout:()=>Ce.exec()})),d.start()}else ze()}function Et(){g>0&&(t(3,g--,g),t(23,X=Y[g]))}async function ze(){if(d&&d.stop(),g<Y.length-1){if(t(3,g++,g),t(23,X=Y[g]),!B){let z=Math.min(Math.round(I/1e3),_);z===0&&(z=1),t(23,X.time=z,X),t(4,_=X.delay||X.defaultDelay||20),t(5,C=0),t(13,Ee=!1),I=0,t(6,d=Ge({delay:_,top:yt,tick:Ct,timeout:()=>Ce.exec()})),d.start()}}else B||t(7,b=!0)}function Vt(){$?d.resume():d.pause(),$=!$}function pt(z){if(F)z.preventDefault(),z.code==="Space"?Vt():z.code==="ArrowRight"&&ze();else if(B)switch(z.preventDefault(),z.code){case"ArrowRight":ze();break;case"ArrowLeft":Et();break}}function It(z){N=z,t(1,N)}const Dt=()=>{t(12,we=!0)},Tt=()=>{je()},zt=()=>{const z={...Ce};return ue.push(z),z},Ht=()=>{d.stop(),ue.forEach(z=>z.exec()),t(7,b=!0)},Bt=()=>{_>5&&Ie(_-5)},Mt=()=>{_<=55&&Ie(_+5)},jt=()=>{Re.update(z=>!z)};return n.$$set=z=>{"data"in z&&t(0,o=z.data)},n.$$.update=()=>{n.$$.dirty[0]&2&&N&&qe(),n.$$.dirty[0]&4&&Re.set(r)},[o,N,r,g,_,C,d,b,F,B,W,J,we,Ee,Y,Z,G,fe,Ve,pe,ce,i,s,X,Ce,ue,Ie,Le,je,pt,It,Dt,Tt,zt,Ht,Bt,Mt,jt]}class os extends le{constructor(e){super(),se(this,e,Jl,Kl,x,{data:0},null,[-1,-1])}}export{os as component};
